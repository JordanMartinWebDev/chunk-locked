<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chunk Locked - Manual Test Runner</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            padding: 30px;
            background: #f8f9fa;
            border-bottom: 3px solid #667eea;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .stat-card .label {
            color: #6c757d;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
        }

        .stat-card .value {
            color: #667eea;
            font-size: 2.5em;
            font-weight: bold;
        }

        .progress-bar {
            background: #e9ecef;
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            margin: 0 30px 30px 30px;
        }

        .progress-fill {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            height: 100%;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
        }

        .test-suites {
            padding: 30px;
        }

        .test-suite {
            margin-bottom: 30px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            overflow: hidden;
        }

        .suite-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            user-select: none;
        }

        .suite-header:hover {
            background: linear-gradient(135deg, #5568d3 0%, #653a8a 100%);
        }

        .suite-header h2 {
            font-size: 1.3em;
        }

        .suite-progress {
            background: rgba(255, 255, 255, 0.3);
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.9em;
        }

        .suite-content {
            display: none;
            padding: 20px;
            background: white;
        }

        .suite-content.expanded {
            display: block;
        }

        .test-case {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .test-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .test-checkbox {
            width: 24px;
            height: 24px;
            margin-right: 15px;
            cursor: pointer;
            accent-color: #667eea;
        }

        .test-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #333;
        }

        .test-section {
            margin-bottom: 12px;
        }

        .test-section strong {
            color: #667eea;
            display: block;
            margin-bottom: 5px;
        }

        .test-section p {
            color: #495057;
            line-height: 1.6;
            white-space: pre-wrap;
        }

        .test-case.completed {
            opacity: 0.7;
            background: #e7f5e7;
        }

        .test-case.completed .test-title {
            text-decoration: line-through;
            color: #28a745;
        }

        footer {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            color: #6c757d;
            border-top: 2px solid #e9ecef;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }

            .stats {
                grid-template-columns: 1fr 1fr;
            }

            .stat-card .value {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ§ª Chunk Locked Manual Test Runner</h1>
            <p>Track your manual testing progress</p>
        </header>

        <div class="stats">
            <div class="stat-card">
                <div class="label">Total Tests</div>
                <div class="value" id="totalTests">0</div>
            </div>
            <div class="stat-card">
                <div class="label">Completed</div>
                <div class="value" id="completedTests">0</div>
            </div>
            <div class="stat-card">
                <div class="label">Remaining</div>
                <div class="value" id="remainingTests">0</div>
            </div>
            <div class="stat-card">
                <div class="label">Progress</div>
                <div class="value" id="progressPercent">0%</div>
            </div>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill" style="width: 0%">0%</div>
        </div>

        <div class="test-suites" id="testSuites"></div>

        <footer>
            <p><strong>Chunk Locked</strong> - Minecraft Fabric Mod</p>
            <p>Generated from markdown test files</p>
        </footer>
    </div>

    <script>
        // Test data from markdown files
        const testSuites = [
    {
        "id": "advancementintegration",
        "title": "Advancement Integration",
        "tests": [
            {
                "id": "AdvancementIntegration-1",
                "title": "Basic Advancement Completion Detection",
                "prerequisites": "Mod installed and loaded in a new world\nPlayer in survival mode",
                "steps": "Start a new Minecraft world with the mod installed\nOpen the console/logs to view debug output\nComplete a simple advancement (e.g., \"Getting Wood\" - collect wood from a tree)\nObserve the console output",
                "expected": "Console should display a log message:\n```\n[chunk-locked] Player <PlayerName> completed advancement: minecraft:story/mine_wood (criterion: has_log)\n```",
                "edgeCases": "Complete the same advancement again (shouldn't be possible without /advancement revoke)\nComplete advancement with multiple criteria (only fires when ALL criteria met)\n---"
            },
            {
                "id": "AdvancementIntegration-2",
                "title": "Multiple Advancement Completions",
                "prerequisites": "Mod installed and loaded\nPlayer in survival mode with some resources",
                "steps": "Start a new world\nComplete \"Getting Wood\" advancement\nCraft a crafting table to complete \"Benchmarking\" advancement\nCraft a wooden pickaxe to complete \"Time to Mine!\" advancement\nCheck console logs after each completion",
                "expected": "Three separate log messages should appear:\n```\n[chunk-locked] Player <PlayerName> completed advancement: minecraft:story/mine_wood (criterion: has_log)\n[chunk-locked] Player <PlayerName> completed advancement: minecraft:story/craft_crafting_table (criterion: has_crafting_table)\n[chunk-locked] Player <PlayerName> completed advancement: minecraft:story/craft_pickaxe (criterion: has_wooden_pickaxe)\n```",
                "edgeCases": "Complete advancements rapidly in succession\nComplete advancements in different order than designed progression\n---"
            },
            {
                "id": "AdvancementIntegration-3",
                "title": "Multi-Criteria Advancement",
                "prerequisites": "Mod installed and loaded\nPlayer has basic tools and resources",
                "steps": "Start working toward \"Two Birds, One Arrow\" advancement\nPartially complete criteria (e.g., have a bow but not yet killed two entities)\nObserve console - should see NO message yet\nComplete the final criterion (kill two phantoms with one arrow)\nCheck console after full completion",
                "expected": "No log message appears during partial progress\nLog message appears ONLY when final criterion is met:\n```\n[chunk-locked] Player <PlayerName> completed advancement: minecraft:adventure/two_birds_one_arrow (criterion: <final_criterion_name>)\n```",
                "edgeCases": "Complete criteria out of order\nComplete multiple criteria in the same game tick\n---"
            },
            {
                "id": "AdvancementIntegration-4",
                "title": "Command-Based Advancement Grant",
                "prerequisites": "Mod installed and loaded\nPlayer has OP permissions or in single player",
                "steps": "Start a world and open chat\nUse command: `/advancement grant @s only minecraft:story/mine_wood`\nObserve console output\nUse command: `/advancement revoke @s only minecraft:story/mine_wood`\nUse command: `/advancement grant @s only minecraft:story/mine_wood` again\nObserve console output",
                "expected": "First grant triggers log message\nRevoke does NOT trigger any message\nSecond grant (after revoke) triggers log message again\n---",
                "edgeCases": ""
            },
            {
                "id": "AdvancementIntegration-5",
                "title": "Advancement Completion in Multiplayer",
                "prerequisites": "Mod installed on server\nTwo players connected to server",
                "steps": "Start a multiplayer server with mod installed\nPlayer 1 completes \"Getting Wood\" advancement\nCheck server console\nPlayer 2 completes \"Getting Wood\" advancement\nCheck server console again",
                "expected": "Two separate log messages:\n```\n[chunk-locked] Player Player1 completed advancement: minecraft:story/mine_wood (criterion: has_log)\n[chunk-locked] Player Player2 completed advancement: minecraft:story/mine_wood (criterion: has_log)\n```",
                "edgeCases": "Both players complete same advancement simultaneously\nOne player completes multiple advancements while other is online\nPlayer completes advancement then disconnects immediately\n---"
            },
            {
                "id": "AdvancementIntegration-6",
                "title": "Advancement Progress Persistence",
                "prerequisites": "Mod installed and loaded\nPartial progress on a multi-criteria advancement",
                "steps": "Start working on \"The Parrots and the Bats\" (breed all animals)\nBreed several but not all required animals\nSave and quit the world\nRestart the world\nBreed the remaining required animals to complete the advancement\nCheck console",
                "expected": "No messages during partial progress before or after restart\nLog message appears only when final animal is bred:\n```\n[chunk-locked] Player <PlayerName> completed advancement: minecraft:husbandry/bred_all_animals (criterion: <final_animal>)\n```\n---",
                "edgeCases": ""
            },
            {
                "id": "AdvancementIntegration-7",
                "title": "No Fake Player Detection",
                "prerequisites": "Mod installed\nAccess to a fake player mod/system (e.g., Carpet mod with fake players)",
                "steps": "Install both this mod and Carpet mod (or equivalent)\nSpawn a fake player using `/player <name> spawn`\nGrant advancement to fake player: `/advancement grant <fake_player> only minecraft:story/mine_wood`\nCheck console",
                "expected": "No log message should appear for fake player advancement completion\n(Fake players are filtered by the mixin injection point)\n**Note**: This test requires additional mods and may be optional\n---",
                "edgeCases": ""
            },
            {
                "id": "AdvancementIntegration-8",
                "title": "Hidden Advancement Completion",
                "prerequisites": "Mod installed\nAbility to complete a hidden advancement",
                "steps": "Prepare resources to complete a hidden advancement (e.g., \"How Did We Get Here?\" effect)\nComplete the hidden advancement\nCheck console",
                "expected": "Log message appears even for hidden advancements:\n```\n[chunk-locked] Player <PlayerName> completed advancement: minecraft:nether/all_effects (criterion: <criterion>)\n```\n---",
                "edgeCases": ""
            },
            {
                "id": "AdvancementIntegration-9",
                "title": "Data Pack Custom Advancements",
                "prerequisites": "Mod installed\nCustom advancement data pack installed",
                "steps": "Install a data pack with custom advancements\nReload data packs: `/reload`\nComplete one of the custom advancements\nCheck console",
                "expected": "Custom advancement completion is detected and logged:\n```\n[chunk-locked] Player <PlayerName> completed advancement: <datapack_namespace>:<advancement_path> (criterion: <criterion>)\n```",
                "edgeCases": "Custom advancement with multiple criteria\nCustom advancement that grants other advancements\nMalformed custom advancement (should not crash)\n---"
            },
            {
                "id": "AdvancementIntegration-10",
                "title": "Rapid Advancement Spam",
                "prerequisites": "Mod installed\nOP permissions",
                "steps": "Prepare a command block or command sequence\nGrant and revoke the same advancement rapidly:\n```\n/advancement grant @s only minecraft:story/mine_wood\n/advancement revoke @s only minecraft:story/mine_wood\n/advancement grant @s only minecraft:story/mine_wood\n/advancement revoke @s only minecraft:story/mine_wood\n/advancement grant @s only minecraft:story/mine_wood\n```\nCheck console and game performance",
                "expected": "Each grant produces a log message\nNo performance degradation\nNo duplicate/missing messages\nNo crashes or errors\n---\n## Verification Checklist\nAfter completing all test cases, verify:\n[ ] Event fires for single-criterion advancements\n[ ] Event fires for multi-criterion advancements (only when complete)\n[ ] Event does NOT fire for partial progress\n[ ] Event includes correct player name in logs\n[ ] Event includes correct advancement identifier\n[ ] Event includes correct criterion name\n[ ] Multiple players tracked independently\n[ ] Works with command-granted advancements\n[ ] Works with data pack custom advancements\n[ ] No fake player advancements logged\n[ ] No performance issues with rapid completions\n[ ] No memory leaks over extended play sessions\n[ ] Advancement progress persists across restarts\n---\n## Known Limitations\nFake player filtering relies on Minecraft's `isEffectiveAi()` check in `PlayerAdvancementTracker.grantCriterion()`\nCustom advancement data packs must be properly formatted to be detected\nAdvancement revocation does NOT trigger any event (by design)\n---\n## Debugging Tips\nIf events are not firing:\nCheck that mixin is registered in `chunk-locked.mixins.json`\nVerify mixin is loading at startup (check logs for mixin messages)\nConfirm event listener is registered in `Chunklocked.onInitialize()`\nCheck that advancement is actually completing (use `/advancement` command)\nVerify mod is loaded in the correct environment (server-side)\n---\n**Test Document Version**: 1.0\n**Last Updated**: January 10, 2026\n**Phase**: 1 - Custom Event Infrastructure",
                "edgeCases": ""
            }
        ]
    },
    {
        "id": "chunkaccesscontrol",
        "title": "Chunk Access Control",
        "tests": [
            {
                "id": "ChunkAccessControl-1",
                "title": "Basic Chunk Access Check",
                "prerequisites": "",
                "steps": "",
                "expected": "",
                "edgeCases": ""
            },
            {
                "id": "ChunkAccessControl-2",
                "title": "Adjacency Detection",
                "prerequisites": "",
                "steps": "",
                "expected": "",
                "edgeCases": ""
            },
            {
                "id": "ChunkAccessControl-3",
                "title": "Multi-Player Isolation",
                "prerequisites": "",
                "steps": "",
                "expected": "",
                "edgeCases": ""
            },
            {
                "id": "ChunkAccessControl-4",
                "title": "Performance Test - 1000 Chunks",
                "prerequisites": "",
                "steps": "",
                "expected": "",
                "edgeCases": ""
            },
            {
                "id": "ChunkAccessControl-5",
                "title": "Negative Coordinates",
                "prerequisites": "",
                "steps": "",
                "expected": "",
                "edgeCases": ""
            },
            {
                "id": "ChunkAccessControl-6",
                "title": "Chunk Unlock Validation",
                "prerequisites": "",
                "steps": "",
                "expected": "",
                "edgeCases": ""
            },
            {
                "id": "ChunkAccessControl-7",
                "title": "Initial Spawn Setup (First Chunk)",
                "prerequisites": "",
                "steps": "",
                "expected": "",
                "edgeCases": ""
            },
            {
                "id": "ChunkAccessControl-8",
                "title": "Frontier Calculation",
                "prerequisites": "",
                "steps": "",
                "expected": "",
                "edgeCases": ""
            },
            {
                "id": "ChunkAccessControl-9",
                "title": "Save/Load Persistence",
                "prerequisites": "",
                "steps": "",
                "expected": "",
                "edgeCases": ""
            },
            {
                "id": "ChunkAccessControl-10",
                "title": "Rapid Movement Stress Test",
                "prerequisites": "",
                "steps": "",
                "expected": "",
                "edgeCases": ""
            }
        ]
    },
    {
        "id": "chunkstorageandmanagement",
        "title": "Chunk Storage and Management",
        "tests": [
            {
                "id": "ChunkStorageAndManagement-1",
                "title": "Basic Chunk Unlock/Lock Operations",
                "prerequisites": "Start fresh world or clear test player's data\nTest player has at least 3 unlock credits",
                "steps": "Check player's unlocked chunks at spawn\nAward player 3 credits: `/chunk-locked credits add <player> 3`\nUnlock a chunk adjacent to spawn: `/chunk-locked unlock <x> <z>`\nVerify chunk is marked as unlocked: `/chunk-locked info <x> <z>`\nLock the chunk: `/chunk-locked lock <x> <z>`\nVerify chunk is marked as locked: `/chunk-locked info <x> <z>`",
                "expected": "Unlock operation succeeds when credits available\nLock operation succeeds on unlocked chunks\nInfo command shows correct unlock status",
                "edgeCases": "Try to unlock without credits (should fail)\nTry to lock already locked chunk (no-op)\nTry to unlock already unlocked chunk (no-op)\n---"
            },
            {
                "id": "ChunkStorageAndManagement-2",
                "title": "Multiple Chunks and Player Isolation",
                "prerequisites": "Two test players\nEach player has 5 credits",
                "steps": "Player 1 unlocks chunks at (0,0), (1,0), (0,1)\nPlayer 2 unlocks chunks at (10,10), (11,10)\nQuery Player 1's chunks: `/chunk-locked list <player1>`\nQuery Player 2's chunks: `/chunk-locked list <player2>`\nVerify each player only sees their own unlocked chunks",
                "expected": "Each player's unlocks are independent\nNo cross-contamination between players\nList command shows correct chunks per player",
                "edgeCases": "Multiple players unlocking same chunk coordinates\nQuery non-existent player (should show 0 chunks)\n---"
            },
            {
                "id": "ChunkStorageAndManagement-3",
                "title": "Save/Load Persistence",
                "prerequisites": "Fresh world\nTest player with 10 credits",
                "steps": "Unlock 5 random chunks in different quadrants (positive/negative coordinates)\nRecord the exact chunk coordinates unlocked\nSave and quit the world\nReload the world\nQuery unlocked chunks: `/chunk-locked list <player>`\nVerify all 5 chunks are still unlocked",
                "expected": "All unlocked chunks persist across save/load\nCredits remaining persist\nNo data corruption or loss",
                "edgeCases": "Chunks with negative coordinates\nLarge coordinate values (e.g., 100000, 100000)\nWorld save during chunk unlock operation\n---"
            },
            {
                "id": "ChunkStorageAndManagement-4",
                "title": "ChunkManager API Integration",
                "prerequisites": "Test player with credits\nAccess to debug commands or test mod",
                "steps": "Use ChunkManager.getAvailableCredits() - verify correct count\nUse ChunkManager.tryUnlockChunk() - verify success with credits\nUse ChunkManager.tryUnlockChunk() again on same chunk - verify failure\nUse ChunkManager.isChunkUnlocked() - verify returns true\nUse ChunkManager.getPlayerChunks() - verify returns correct set\nUse ChunkManager.forceUnlockChunk() - verify unlocks without spending credit",
                "expected": "All API methods work as documented\nCredit spending is atomic\nNo race conditions or inconsistencies",
                "edgeCases": "Rapid successive unlock calls\nConcurrent access from different threads\nNull parameter handling\n---"
            },
            {
                "id": "ChunkStorageAndManagement-5",
                "title": "Area Detection with Connected Chunks",
                "prerequisites": "Test player with 10 credits\nEmpty chunk unlock state",
                "steps": "Unlock a 2x2 grid of chunks: (0,0), (1,0), (0,1), (1,1)\nQuery areas: Check if detected as single connected area\nUnlock disconnected chunk at (10,10)\nQuery areas again: Should show 2 separate areas\nBridge the gap by unlocking chunks between them\nQuery areas: Should now show single large area",
                "expected": "BFS algorithm correctly identifies connected regions\nMultiple disconnected areas are tracked separately\nArea merging works when bridge is created",
                "edgeCases": "L-shaped connected regions\nSingle isolated chunks\nVery large contiguous areas (50+ chunks)\nNegative coordinate chunks\n---"
            },
            {
                "id": "ChunkStorageAndManagement-6",
                "title": "Negative Coordinates and Edge Cases",
                "prerequisites": "Test player with 20 credits",
                "steps": "Unlock chunks in all quadrants:\nPositive X, Positive Z: (5, 5)\nNegative X, Positive Z: (-5, 5)\nPositive X, Negative Z: (5, -5)\nNegative X, Negative Z: (-5, -5)\nUnlock chunk at origin: (0, 0)\nUnlock chunks at extreme coordinates: (1000000, 1000000)\nQuery all unlocked chunks\nSave and reload world\nVerify all chunks still unlocked",
                "expected": "All coordinate quadrants work correctly\nOrigin (0,0) is handled properly\nLarge coordinates don't cause overflow\nPersistence works with all coordinate types",
                "edgeCases": "Integer.MAX_VALUE coordinates\nInteger.MIN_VALUE coordinates\nRapid unlock/lock cycles\n---"
            },
            {
                "id": "ChunkStorageAndManagement-7",
                "title": "Credit Management Edge Cases",
                "prerequisites": "Test player",
                "steps": "Set credits to 0: `/chunk-locked credits set <player> 0`\nTry to unlock chunk (should fail)\nSet credits to 1000: `/chunk-locked credits set <player> 1000`\nVerify can unlock many chunks\nSpend all credits by unlocking\nVerify credit count is 0\nAdd negative credits (should fail/error)",
                "expected": "Cannot unlock with 0 credits\nCredit operations are bounds-checked\nNegative credit values rejected\nInteger overflow handled gracefully",
                "edgeCases": "Setting credits to Integer.MAX_VALUE\nSpending more credits than available\nConcurrent credit modifications\n---"
            },
            {
                "id": "ChunkStorageAndManagement-8",
                "title": "ChunkUnlockData NBT Serialization",
                "prerequisites": "Fresh world\nTest player with credits",
                "steps": "Unlock 3 chunks with different coordinates\nCheck world save folder for chunk-locked data file\nOpen NBT file with NBT editor\nVerify structure:\nDataVersion = 2\nPlayers section exists\nPlayer UUID present\nUnlockedChunks array contains 3 entries\nCredits value is correct\nManually edit NBT to add a chunk\nReload world\nVerify manual edit persisted",
                "expected": "NBT structure matches v2 format\nAll data serializes correctly\nManual NBT edits work (data migration compatible)\nNo data corruption",
                "edgeCases": "Empty UnlockedChunks array\nMissing player data\nCorrupt NBT (should fallback gracefully)\n---"
            },
            {
                "id": "ChunkStorageAndManagement-9",
                "title": "Multi-Player Server Environment",
                "prerequisites": "Multiplayer server\n3 connected players",
                "steps": "Each player unlocks different chunks\nPlayers check their own unlocked chunks\nOne player leaves and rejoins\nVerify their chunks still unlocked\nAdmin unlocks chunk for offline player\nOffline player rejoins\nVerify admin unlock persisted",
                "expected": "Each player's data is independent\nServer handles concurrent operations\nData persists for offline players\nAdmin operations work for any player",
                "edgeCases": "Player leaves during unlock operation\nServer crashes mid-save\nMultiple admins modifying same player\n---"
            },
            {
                "id": "ChunkStorageAndManagement-10",
                "title": "Large Dataset Performance",
                "prerequisites": "Test player\nSufficient credits (10000+)",
                "steps": "Unlock 1000 chunks in a grid pattern\nMeasure time to save world (should be <100ms)\nReload world\nMeasure time to load chunk data (should be <100ms)\nQuery if specific chunk is unlocked (should be instant)\nList all unlocked chunks (should be <50ms)",
                "expected": "O(1) lookup performance maintained\nSave/load times remain reasonable\nNo memory leaks\nUI remains responsive\n**Performance Targets**:\nChunk lookup: <1ms\nSave operation: <100ms for 1000 chunks\nLoad operation: <100ms for 1000 chunks\nMemory usage: <10MB for 10,000 chunks\n---\n## Testing Checklist\n[ ] Test Case 1: Basic Operations\n[ ] Test Case 2: Player Isolation\n[ ] Test Case 3: Persistence\n[ ] Test Case 4: API Integration\n[ ] Test Case 5: Area Detection\n[ ] Test Case 6: Negative Coordinates\n[ ] Test Case 7: Credit Edge Cases\n[ ] Test Case 8: NBT Serialization\n[ ] Test Case 9: Multiplayer\n[ ] Test Case 10: Performance\n---\n## Known Limitations\nChunkPos requires Minecraft runtime - cannot unit test\nArea detection requires actual BFS traversal in live environment\nNBT serialization needs file system access\nMultiplayer scenarios need actual server environment\n## Future: Integration Test Framework\nConsider implementing Fabric Game Tests for automated testing:\nhttps://fabricmc.net/wiki/tutorial:testing\nRequires Minecraft test harness setup\nCan run in-game automated test scenarios\nProvides reproducible test environment",
                "edgeCases": ""
            }
        ]
    },
    {
        "id": "chunkunlockingcommands",
        "title": "Chunk Unlocking Commands",
        "tests": [
            {
                "id": "ChunkUnlockingCommands-1",
                "title": "Give Credits to Self",
                "prerequisites": "Fresh world with player joined\nPlayer has 0 credits initially\nPlayer has non-zero credits",
                "steps": "Run `/chunklocked givecredits 5`\nCheck inventory or run `/chunklocked credits`\nVerify credit count shows 5\nRun `/chunklocked credits reset`\nRun `/chunklocked credits`",
                "expected": "Chat shows: \"Given 5 credits (0 â†’ 5)\"\nCredits increase by 5\nCan unlock chunks with new credits\nChat shows: \"Reset your credits to 0\"\nCredits display shows 0\n---",
                "edgeCases": "Give 0 credits: Should be rejected (requires 1+)\nGive negative credits: Should be rejected\nGive huge amount (999): Should work without error\n---\n## Test Case 1b: Reset Credits (Self)\n**Objective**: Verify `/chunklocked credits reset` sets credits to 0 for the executing player."
            },
            {
                "id": "ChunkUnlockingCommands-2",
                "title": "Give Credits to Another Player",
                "prerequisites": "2 players online (Player A as executor, Player B as target)\nPlayer B has 0 credits\nTwo players online; target has non-zero credits",
                "steps": "As Player A, run `/chunklocked givecredits Player B 3`\nCheck Player B's credits\nVerify both players see feedback messages\nAs admin, run `/chunklocked credits reset <player>`\nTarget runs `/chunklocked credits`",
                "expected": "Player A sees: \"Gave 3 credits to Player B (0 â†’ 3)\"\nPlayer B receives chat message: \"You received 3 credits (0 â†’ 3)\"\nPlayer B can unlock chunks with new credits\nAdmin sees: \"Reset <player>'s credits to 0\"\nTarget sees: \"Your credits were reset to 0\"\nTargetâ€™s credits display shows 0\n---",
                "edgeCases": "Non-existent player name: Should show error\nOffline player: Should show error\nExecutor is not OP: Should be denied (admin command)\n---\n## Test Case 2b: Reset Credits (Other Player)\n**Objective**: Verify `/chunklocked credits reset <player>` sets credits to 0 for the target player."
            },
            {
                "id": "ChunkUnlockingCommands-3",
                "title": "Unlock Chunk Facing - North Direction",
                "prerequisites": "2x2 spawn area unlocked (4 chunks)\nPlayer has at least 1 credit\nChunks to north are locked",
                "steps": "Face directly north (yaw = 180Â°)\nRun `/chunklocked unlockfacing`\nLook at the world to verify\nCheck barriers are gone from that direction",
                "expected": "Chat shows: \"Unlocked chunk North [X, Z-1]!\"\nBarrier blocks disappear from that direction\nCan move freely into the new chunk\nAdjacent locked chunks still have barriers",
                "edgeCases": "Look slightly up (60Â° pitch): Should still detect north boundary\nLook slightly down (-60Â° pitch): Should still detect north boundary\nLook too steeply (90Â° pitch straight up): Should fail gracefully\n---"
            },
            {
                "id": "ChunkUnlockingCommands-4",
                "title": "Unlock Chunk Facing - South Direction",
                "prerequisites": "2x2 spawn area unlocked\nPlayer has at least 1 credit\nChunks to south are locked",
                "steps": "Face directly south (yaw = 0Â°)\nRun `/chunklocked unlockfacing`\nVerify correct direction detected\nCheck barriers are gone",
                "expected": "Chat shows: \"Unlocked chunk South [X, Z+1]!\"\nBarriers removed from south side\nNew chunk accessible\n---",
                "edgeCases": ""
            },
            {
                "id": "ChunkUnlockingCommands-5",
                "title": "Unlock Chunk Facing - East Direction",
                "prerequisites": "2x2 spawn area unlocked\nPlayer has at least 1 credit\nChunks to east are locked",
                "steps": "Face directly east (yaw = 270Â°)\nRun `/chunklocked unlockfacing`\nVerify chunk east is unlocked",
                "expected": "Chat shows: \"Unlocked chunk East [X+1, Z]!\"\nBarriers removed from east side\n---",
                "edgeCases": ""
            },
            {
                "id": "ChunkUnlockingCommands-6",
                "title": "Unlock Chunk Facing - West Direction",
                "prerequisites": "2x2 spawn area unlocked\nPlayer has at least 1 credit\nChunks to west are locked",
                "steps": "Face directly west (yaw = 90Â°)\nRun `/chunklocked unlockfacing`\nVerify chunk west is unlocked",
                "expected": "Chat shows: \"Unlocked chunk West [X-1, Z]!\"\nBarriers removed from west side\n---",
                "edgeCases": ""
            },
            {
                "id": "ChunkUnlockingCommands-7",
                "title": "Unlock Multiple Chunks in Same Direction",
                "prerequisites": "2x2 spawn area unlocked: [7,-1], [8,-1], [7,0], [8,0]\nPlayer has 2+ credits\nUnlock one more chunk north: [7,-2]\nNow there are chunks at [7,-2] (locked), [7,-3] (still locked)",
                "steps": "Face north from the 2x2 area\nRun `/chunklocked unlockfacing`\nFirst unlock should target [7,-2]\nRun again, should target [7,-3]",
                "expected": "First unlock: \"Unlocked chunk North [7, -2]!\"\nBarriers between [7,-1] and [7,-2] disappear\nSecond unlock: \"Unlocked chunk North [7, -3]!\"\nBarriers between [7,-2] and [7,-3] disappear\nNo double-unlocking of already-unlocked chunks",
                "edgeCases": "Skip internal boundaries: âœ… Raycasting should skip boundaries between [7,-1] and [7,-2] if both are unlocked\nDetect first locked boundary: âœ… Should stop at first locked chunk encountered\n---"
            },
            {
                "id": "ChunkUnlockingCommands-8",
                "title": "Cannot Unlock Already-Unlocked Chunk",
                "prerequisites": "Chunk [7,-2] is already unlocked\nPlayer facing that direction",
                "steps": "Face north toward [7,-2]\nRun `/chunklocked unlockfacing`",
                "expected": "Chat shows: \"The chunk North of you [7, -2] is already unlocked!\"\nNo credit spent\nNo barriers changed\n---",
                "edgeCases": ""
            },
            {
                "id": "ChunkUnlockingCommands-9",
                "title": "Cannot Unlock Without Credits",
                "prerequisites": "Player has 0 credits\nLocked chunks available",
                "steps": "Face a locked chunk direction\nRun `/chunklocked unlockfacing`",
                "expected": "Chat shows: \"Not enough credits! Complete more advancements.\"\nNo chunk unlocked\nNo barriers changed\n---",
                "edgeCases": ""
            },
            {
                "id": "ChunkUnlockingCommands-10",
                "title": "Raycasting Range",
                "prerequisites": "Locked chunks far away (100+ blocks)\nPlayer has credits",
                "steps": "Build to 200 blocks away from locked chunk\nFace the locked chunk\nRun `/chunklocked unlockfacing`",
                "expected": "Should successfully detect and unlock the distant chunk\nWorks up to 256 blocks",
                "edgeCases": "257 blocks away: Should fail (\"No locked chunk boundary found\")\nBlocked line of sight (solid blocks): Ray should still work (not blocked by obstacles)\n---"
            },
            {
                "id": "ChunkUnlockingCommands-11",
                "title": "Barrier Persistence",
                "prerequisites": "2x2 spawn area with frontier barriers\nServer restarted",
                "steps": "Check barriers are still present after reload\nTry to move into locked chunk\nVerify barriers block movement",
                "expected": "Barriers are restored on server load\nCannot move past barriers\nChunks remain locked until explicitly unlocked\n---",
                "edgeCases": ""
            },
            {
                "id": "ChunkUnlockingCommands-12",
                "title": "Barrier Update After Unlock",
                "prerequisites": "Two adjacent locked chunks: [7,-2] (north) and [8,-1] (east of spawn)\nBarriers on all sides initially",
                "steps": "Unlock [7,-2] to the north\nCheck barrier walls update\nNorth barrier from [7,-1] disappears\nSouth barrier from [7,-2] appears (facing the 2x2)\nUnlock [8,-1] to the east\nVerify that chunk's barriers update",
                "expected": "Barriers removed from unlocked chunks\nBarriers remain on locked chunks\nFrontier barrier configuration updates correctly\nNo barriers between two unlocked chunks\nBarriers only on edges bordering locked areas\n---",
                "edgeCases": ""
            },
            {
                "id": "ChunkUnlockingCommands-13",
                "title": "Unlock from Inside vs Outside",
                "prerequisites": "2x2 spawn area\n3 credits available",
                "steps": "Stand in center of 2x2 area\nFace east and unlock chunk east\nMove into newly unlocked chunk\nFace east again and unlock next chunk\nVerify all directions work",
                "expected": "Unlocking works regardless of position\nBarriers update correctly each time\nCan walk into newly unlocked areas\n---\n## Summary of Commands Tested\n```\n# Give self credits\n/chunklocked givecredits 5\n# Give other player credits\n/chunklocked givecredits Player205 3\n# Unlock chunk in facing direction\n/chunklocked unlockfacing\n# Check barrier configuration\n/chunklocked debugbarriers\n# Check own credits\n/chunklocked credits\n```\n## Known Limitations\nRaycasting doesn't respect block line-of-sight (barriers are invisible, so this is correct)\nMaximum range is 256 blocks\nMust face surface of chunk boundary (not corner)\nOnly works in Overworld (by design)\nOnly works in Overworld (by design)\n---",
                "edgeCases": ""
            },
            {
                "id": "ChunkUnlockingCommands-14",
                "title": "Credit Persistence After Admin Grants",
                "prerequisites": "Server running and player online\nPlayer initially has 0 credits",
                "steps": "As admin, run `/chunklocked givecredits <player> 3`.\nAs player, run `/chunklocked credits` and note value (should be 3).\nSave and exit to title; stop the server.\nRestart the server and rejoin with the same player.\nRun `/chunklocked credits` again.",
                "expected": "The credited amount persists across restart (value remains 3).",
                "edgeCases": "Use `/chunklocked addcredits <amount>` and `/chunklocked setcredits <amount>` and repeat steps; values should persist.\nIf credits are granted before `SERVER_STARTED`, check logs for warning about `persistentData` being null; there should be no crash."
            }
        ]
    },
    {
        "id": "configurationsystem",
        "title": "Configuration System",
        "tests": [
            {
                "id": "ConfigurationSystem-1",
                "title": "Default Configuration Creation",
                "prerequisites": "Fresh Minecraft installation or deleted config file\nChunk Locked mod installed",
                "steps": "Delete `config/chunk-locked-advancements.json` if it exists\nStart Minecraft server/client\nCheck the `config/` directory",
                "expected": "`chunk-locked-advancements.json` file should be created automatically\nFile should contain default values:\n`defaultCredits: 1`\nCustom rewards for major advancements (adventuring_time: 20, dragon_egg: 10, etc.)\nBlacklist for trivial advancements (story/root, story/mine_stone, story/upgrade_tools)\n`allowRevoke: false`\n`enableNotifications: true`\nConsole should log: \"Loading advancement reward configuration from: config/chunk-locked-advancements.json\"\nConsole should log: \"Loaded X custom rewards and Y blacklisted advancements\"",
                "edgeCases": "Verify file is valid JSON and can be opened in a text editor\nVerify file is formatted with pretty printing (indentation)\n---"
            },
            {
                "id": "ConfigurationSystem-2",
                "title": "Configuration Loading",
                "prerequisites": "Existing config file at `config/chunk-locked-advancements.json`",
                "steps": "Edit `config/chunk-locked-advancements.json` and set `defaultCredits: 5`\nAdd custom reward: `\"minecraft:story/mine_diamond\": 100`\nSave the file\nRestart Minecraft",
                "expected": "Console should log: \"Configuration loaded successfully\"\nConsole should show the loaded config values in logs\nWhen completing \"Mine Diamond\" advancement, player should receive 100 credits (verify in later phases)\nWhen completing other advancements, player should receive 5 credits (changed from default 1)",
                "edgeCases": "Check console for \"Loaded 9 custom rewards\" (8 defaults + 1 added)\n---"
            },
            {
                "id": "ConfigurationSystem-3",
                "title": "Invalid Configuration Handling",
                "prerequisites": "Existing config file",
                "steps": "Edit `config/chunk-locked-advancements.json` and corrupt the JSON syntax:\n```\n{ \"defaultCredits\": 1, invalid syntax here }\n```\nSave and restart Minecraft",
                "expected": "Console should log ERROR: \"Configuration file has invalid JSON syntax\"\nConsole should log: \"Using default configuration\"\nServer/client should start successfully (no crash)\nConfig file should be overwritten with default values\n---",
                "edgeCases": ""
            },
            {
                "id": "ConfigurationSystem-4",
                "title": "Negative Credits Validation",
                "prerequisites": "Existing config file",
                "steps": "Edit config and set `\"defaultCredits\": -5`\nSave and restart Minecraft",
                "expected": "Console should log ERROR: \"Configuration validation failed: defaultCredits cannot be negative\"\nConsole should log: \"Using default configuration\"\nConfig file should be reset to defaults\n---",
                "edgeCases": ""
            },
            {
                "id": "ConfigurationSystem-5",
                "title": "Custom Rewards Applied",
                "prerequisites": "Config file with custom reward set",
                "steps": "Edit config and set:\n```json\n\"customRewards\": {\n\"minecraft:adventure/adventuring_time\": 50\n}\n```\nSave and restart Minecraft\nUse `/advancement grant @s minecraft:adventure/adventuring_time`",
                "expected": "Console should log: \"Awarded 50 credit(s) to [player] for completing advancement: minecraft:adventure/adventuring_time\"\nPlayer should receive 50 credits (verify with future commands/UI)\n---",
                "edgeCases": ""
            },
            {
                "id": "ConfigurationSystem-6",
                "title": "Blacklist Prevents Credits",
                "prerequisites": "Config file with blacklist",
                "steps": "Edit config and add to blacklist:\n```json\n\"blacklist\": [\n\"minecraft:story/mine_diamond\"\n]\n```\nSave and restart Minecraft\nUse `/advancement grant @s minecraft:story/mine_diamond`",
                "expected": "Console should log: \"Advancement minecraft:story/mine_diamond is blacklisted, no credits awarded to [player]\"\nPlayer should receive 0 credits\nNo \"Awarded X credit(s)\" message should appear\n---",
                "edgeCases": ""
            },
            {
                "id": "ConfigurationSystem-7",
                "title": "Partial Configuration",
                "prerequisites": "Config file",
                "steps": "Edit config file to only contain:\n```json\n{\n\"defaultCredits\": 10\n}\n```\nSave and restart Minecraft",
                "expected": "Console should log: \"Configuration loaded successfully\"\n`defaultCredits` should be 10 (from file)\nOther fields should use defaults:\n`customRewards` should be empty map\n`blacklist` should be empty list\n`allowRevoke` should be false\n`enableNotifications` should be true\n---",
                "edgeCases": ""
            },
            {
                "id": "ConfigurationSystem-8",
                "title": "Empty Config File",
                "prerequisites": "Config file",
                "steps": "Delete all content from config file (make it empty)\nSave and restart Minecraft",
                "expected": "Console should log: \"Configuration file is empty or invalid\"\nConsole should log: \"Using default configuration\"\nConfig file should be regenerated with default values\n---",
                "edgeCases": ""
            },
            {
                "id": "ConfigurationSystem-9",
                "title": "Missing Config Directory",
                "prerequisites": "No `config/` directory",
                "steps": "Delete the `config/` directory entirely\nStart Minecraft",
                "expected": "`config/` directory should be created\n`config/chunk-locked-advancements.json` should be created with defaults\nNo errors should occur\n---",
                "edgeCases": ""
            },
            {
                "id": "ConfigurationSystem-10",
                "title": "Unicode and Special Characters",
                "prerequisites": "Config file",
                "steps": "Add custom reward with unicode:\n```json\n\"customRewards\": {\n\"mymod:special_advancement\": 15\n}\n```\nSave and restart Minecraft",
                "expected": "Configuration should load without errors\nUnicode characters should be preserved\nCustom reward should work correctly\n---\n## Configuration Integration Checklist\nAfter completing all test cases, verify:\n[x] Default config file created automatically on first run\n[x] Valid custom configurations load correctly\n[x] Invalid JSON falls back to defaults gracefully\n[x] Validation catches negative/invalid values\n[x] Custom rewards override default credits\n[x] Blacklist prevents credit awards\n[x] Partial configs merge with defaults\n[x] Empty/corrupt files regenerate defaults\n[x] Missing directories are created\n[x] Config changes apply after restart\n[x] No crashes from any config scenario\n[x] All error messages are clear and helpful",
                "edgeCases": ""
            }
        ]
    },
    {
        "id": "entityspecificcollision",
        "title": "Entity-Specific Collision",
        "tests": [
            {
                "id": "EntitySpecificCollision-1",
                "title": "Player Collision",
                "prerequisites": "Place BarrierBlockV2 blocks in creative mode\nSwitch to survival mode for realistic testing",
                "steps": "Place a 3x3 wall of BarrierBlockV2 blocks\nAttempt to walk through the barrier\nTry jumping over while approaching\nTry sneaking through\nTry sprinting into the barrier",
                "expected": "Player is completely blocked by the barrier in all cases\nPlayer cannot pass through from any direction\nCollision feels solid like a normal block",
                "edgeCases": "Try from different angles (north, south, east, west)\nTry at chunk boundaries\nTest at different Y-levels (ground, mid-air, underground)\n---"
            },
            {
                "id": "EntitySpecificCollision-2",
                "title": "Hostile Mob Pass-Through",
                "prerequisites": "Barrier wall setup\nSpawn hostile mobs (zombie, skeleton, creeper)",
                "steps": "Place barrier wall between player and open area\nSpawn zombie on opposite side of barrier\nMove close enough to aggro the zombie\nObserve if zombie walks through barrier toward player",
                "expected": "Zombie walks through barrier blocks as if they don't exist\nZombie pathfinding treats barriers as passable\nZombie can attack player through barrier if in range",
                "edgeCases": "Test with different mob types: skeleton, creeper, spider, enderman\nTest with baby zombies\nTest with zombified piglins from Nether\n---"
            },
            {
                "id": "EntitySpecificCollision-3",
                "title": "Passive Mob Pass-Through",
                "prerequisites": "Barrier wall setup\nPassive mobs (cow, sheep, pig, chicken)",
                "steps": "Spawn passive mob on one side of barrier\nUse wheat/seeds to lure mob toward player through barrier\nPush mob manually through barrier\nObserve mob wandering behavior near barriers",
                "expected": "Passive mobs can walk through barriers\nMobs do not get stuck on barriers\nPathfinding treats barriers as passable",
                "edgeCases": "Test with different animals\nTest leading with leash through barrier\nTest baby animals vs adults\n---"
            },
            {
                "id": "EntitySpecificCollision-4",
                "title": "Item Drop Pass-Through",
                "prerequisites": "Barrier wall setup\nVarious items (dirt, diamonds, tools)",
                "steps": "Stand on one side of barrier wall\nThrow items toward the barrier\nDrop items directly on top of barrier\nPlace items on ground and push toward barrier using water",
                "expected": "Items pass through barrier blocks\nItems do not get stuck or bounce back\nItems can be picked up from other side",
                "edgeCases": "Test with stacked items (64 cobblestone)\nTest with unstackable items (tools, armor)\nTest with items in flowing water\n---"
            },
            {
                "id": "EntitySpecificCollision-5",
                "title": "Fluid Flow Through Barriers",
                "prerequisites": "Barrier wall with gaps\nWater bucket and lava bucket",
                "steps": "Create a vertical barrier wall 3 blocks high\nPlace water source block above barrier\nObserve if water flows through barrier\nRepeat with lava",
                "expected": "Water flows through barrier blocks\nLava flows through barrier blocks\nFluids treat barriers as air blocks\nFluid mechanics remain normal (no infinite sources)",
                "edgeCases": "Test with waterlogged blocks near barriers\nTest underwater placement of barriers\nTest if barriers can be waterlogged (they shouldn't be)\n---"
            },
            {
                "id": "EntitySpecificCollision-6",
                "title": "Projectile Pass-Through",
                "prerequisites": "Barrier wall setup\nBow and arrows, snowballs, eggs, ender pearls",
                "steps": "Stand in front of barrier wall\nShoot arrow at barrier\nThrow snowball at barrier\nThrow egg at barrier\nThrow ender pearl through barrier",
                "expected": "Arrows pass through barriers\nSnowballs pass through barriers\nEggs pass through barriers\nEnder pearls pass through and teleport player",
                "edgeCases": "Test with tipped arrows\nTest with spectral arrows\nTest tridents (thrown)\nTest fishing rod bobber\n---"
            },
            {
                "id": "EntitySpecificCollision-7",
                "title": "Player-Controlled Entity Blocking",
                "prerequisites": "Barrier wall setup\nBoat, minecart, horse (tamed)",
                "steps": "Place boat near barrier\nEnter boat\nAttempt to move through barrier while in boat\nExit boat, move boat through barrier manually\nRepeat with minecart on rails\nRepeat with mounted horse",
                "expected": "Player CANNOT pass through barrier while in boat\nPlayer CANNOT pass through barrier while in minecart\nPlayer CANNOT pass through barrier while riding horse\nEmpty boat/minecart CAN pass through barrier\nRiderless horse CAN walk through barrier",
                "edgeCases": "Test with pig (saddle and carrot on stick)\nTest with strider in Nether\nTest with player as passenger (not controller)\n---"
            },
            {
                "id": "EntitySpecificCollision-8",
                "title": "Redstone and Mechanisms",
                "prerequisites": "Barrier wall\nRedstone dust, repeaters, pistons",
                "steps": "Place redstone dust on/near barriers\nTest redstone signal through barriers\nPlace piston facing barrier, activate it\nPlace piston behind barrier, try to push block through",
                "expected": "Redstone can be placed adjacent to barriers\nRedstone signals do NOT pass through barriers (expected)\nPistons cannot push barriers (unbreakable)\nPistons CAN push other blocks through barriers (if collision allows)",
                "edgeCases": "Test with observers facing barriers\nTest with slime block flying machines\n---"
            },
            {
                "id": "EntitySpecificCollision-9",
                "title": "Multiplayer Behavior",
                "prerequisites": "Multiplayer server or LAN world\nTwo players",
                "steps": "Player 1 places barrier wall\nPlayer 2 attempts to walk through barrier\nPlayer 1 observes Player 2's collision\nTest with both players on opposite sides",
                "expected": "Both players see consistent collision behavior\nNo desync between client and server\nOther player appears blocked at barrier",
                "edgeCases": "Test with high latency\nTest with player pushing another player toward barrier\nTest with knockback effects (explosions, knockback enchantment)\n---"
            },
            {
                "id": "EntitySpecificCollision-10",
                "title": "Dimension Behavior",
                "prerequisites": "Barriers in Overworld, Nether, and End\nAccess to all dimensions",
                "steps": "Place barrier in Overworld, test collision\nPlace barrier in Nether, test collision\nPlace barrier in End, test collision\nTest mob behavior in each dimension",
                "expected": "Collision behavior is consistent across all dimensions\nWorks identically in Overworld, Nether, and End",
                "edgeCases": "Test with dimension-specific mobs (piglins, endermen)\nTest with ghast fireballs passing through barriers\n---"
            },
            {
                "id": "EntitySpecificCollision-11",
                "title": "Light Transmission",
                "prerequisites": "Barrier wall in dark area\nLight source (torch, glowstone)",
                "steps": "Place barrier wall in underground cave\nPlace torch on one side of barrier\nObserve light levels on opposite side",
                "expected": "Light passes through barriers (transparency already tested)\nSkylight propagates through barriers\nLight level matches as if barrier were air",
                "edgeCases": "Test with barrier at surface (skylight)\nTest with multiple stacked barriers vertically\n---"
            },
            {
                "id": "EntitySpecificCollision-12",
                "title": "Performance with Many Barriers",
                "prerequisites": "Large area with many barriers\nF3 debug screen open",
                "steps": "Place 100+ barrier blocks in a large structure\nSpawn 50+ mobs nearby\nDrop 100+ items near barriers\nObserve FPS and TPS",
                "expected": "No significant performance degradation\nCollision checks remain fast (using cached VoxelShapes)\nFPS/TPS remain stable",
                "edgeCases": "Test with thousands of entities\nTest with rapid collision checks (sprinting back and forth)\n---"
            },
            {
                "id": "EntitySpecificCollision-13",
                "title": "Creative Mode Interaction",
                "prerequisites": "Creative mode enabled\nBarriers placed",
                "steps": "In creative mode, attempt to break barrier\nTry to place blocks inside barrier space\nTry flying through barriers",
                "expected": "Creative mode players can break barriers (as intended)\nPlayers still collide with barriers (no flying through)\nBarrier functionality same as survival",
                "edgeCases": "Test spectator mode (should pass through)\nTest with commands (/tp through barriers)\n---\n## Known Limitations\n**Pathfinding**: Mobs may not pathfind optimally through barriers (AI treats them as obstacles despite being passable)\n**Ender Pearl Edge Case**: Player might teleport to other side, but this is expected behavior\n**Spectator Mode**: Not tested, but spectator mode should pass through all blocks anyway\n---\n## Regression Tests\nEnsure old functionality still works:\n[ ] Barriers still have semi-transparent appearance\n[ ] Barriers are still unbreakable in survival\n[ ] Barriers still have correct texture\n[ ] Light still passes through barriers\n[ ] Barriers can still be placed/broken in creative\n---\n## Test Environment Setup\n### Quick Test World Setup\n```\nCreate new creative world\nRun: /gamemode creative\nObtain BarrierBlockV2 blocks (creative inventory)\nBuild test arena:\n10x10 enclosed area\nBarrier walls on sides\nSpawn platform for mobs\nWater test area\nSwitch to survival: /gamemode survival\nBegin test cases\n```\n### Recommended Commands\n```mcfunction\n# Give barriers\n/give @p chunk-locked:barrier_block 64\n# Spawn test mobs\n/summon minecraft:zombie ~ ~ ~5\n/summon minecraft:skeleton ~ ~ ~-5\n/summon minecraft:cow ~ ~ ~3\n# Clear mobs after testing\n/kill @e[type=!player]\n# Set time (for visibility)\n/time set day\n```\n---\n## Test Results Template\n| Test Case                     | Pass/Fail | Notes |\n| ----------------------------- | --------- | ----- |\n| 1. Player Collision           | â¬œ        |       |\n| 2. Hostile Mob Pass-Through   | â¬œ        |       |\n| 3. Passive Mob Pass-Through   | â¬œ        |       |\n| 4. Item Drop Pass-Through     | â¬œ        |       |\n| 5. Fluid Flow                 | â¬œ        |       |\n| 6. Projectile Pass-Through    | â¬œ        |       |\n| 7. Player-Controlled Entities | â¬œ        |       |\n| 8. Redstone Mechanisms        | â¬œ        |       |\n| 9. Multiplayer Behavior       | â¬œ        |       |\n| 10. Dimension Behavior        | â¬œ        |       |\n| 11. Light Transmission        | â¬œ        |       |\n| 12. Performance               | â¬œ        |       |\n| 13. Creative Mode             | â¬œ        |       |\n---\n## Testing Priority\n**High Priority** (Core Functionality):\nTest Case 1: Player Collision\nTest Case 2: Hostile Mob Pass-Through\nTest Case 4: Item Drop Pass-Through\nTest Case 5: Fluid Flow\n**Medium Priority** (Important Edge Cases):\nTest Case 7: Player-Controlled Entities\nTest Case 9: Multiplayer Behavior\nTest Case 13: Creative Mode\n**Low Priority** (Nice to Have):\nTest Case 8: Redstone\nTest Case 10: Dimensions\nTest Case 12: Performance\n---\n**Test Completion**: Date: ****\\_\\_\\_****\n**Tester**: ****\\_\\_\\_****\n**Version**: ****\\_\\_\\_****\n**Result**: â¬œ All Pass | â¬œ Some Fail | â¬œ Major Issues"
            }
        ]
    },
    {
        "id": "fluidblocking",
        "title": "Fluid Blocking",
        "tests": [
            {
                "id": "FluidBlocking-1",
                "title": "Water Bucket Placement",
                "prerequisites": "Load world with barrier walls\nHave water bucket in inventory\nBe in creative or survival mode",
                "steps": "Locate a barrier wall (vertical barrier at chunk boundary)\nStand next to the barrier\nPlace water bucket on the ground next to the barrier (within 1-2 blocks)\nObserve water flow behavior for 5-10 seconds",
                "expected": "Water flows horizontally and vertically\nWater does NOT destroy any barrier blocks\nBarrier wall remains intact\nWater stops at the barrier edge (doesn't flow through)",
                "edgeCases": "Test at different Y levels (ground level, Y=100, Y=200)\nTest with water source placed above barriers (falling water)\nTest with water source placed directly adjacent to barrier\nTest in ocean biome where water naturally exists\n---"
            },
            {
                "id": "FluidBlocking-2",
                "title": "Lava Bucket Placement",
                "prerequisites": "Load world with barrier walls\nHave lava bucket in inventory\nBe in creative mode (safer)",
                "steps": "Locate a barrier wall\nStand next to the barrier\nPlace lava bucket on the ground next to the barrier (within 1-2 blocks)\nObserve lava flow behavior for 10-15 seconds (lava flows slower)",
                "expected": "Lava flows horizontally and slowly\nLava does NOT destroy any barrier blocks\nBarrier wall remains intact\nLava stops at the barrier edge",
                "edgeCases": "Test at different Y levels\nTest with lava source placed above barriers (falling lava)\nTest in the Nether where lava naturally exists\nTest lava flowing into water near barriers (creates cobblestone/obsidian)\n---"
            },
            {
                "id": "FluidBlocking-3",
                "title": "Mob Pathfinding Through Barriers",
                "prerequisites": "Load world with barrier walls\nHave mob spawn eggs (chicken, cow, pig)\nHave mob attractant (wheat for cows, seeds for chickens)",
                "steps": "Spawn a mob on one side of a barrier wall\nStand on the opposite side of the barrier\nHold the mob's preferred food item to attract it\nObserve mob behavior",
                "expected": "Mob walks directly through the barrier (no collision)\nMob pathfinds through barrier to reach player\nMob does not get stuck or confused at barrier\nMob treats barrier as if it doesn't exist",
                "edgeCases": "Test with different mob types (passive, neutral, hostile)\nTest with multiple barriers in a row\nTest with barriers at different angles\nTest mob AI pathfinding around corners with barriers\n---"
            },
            {
                "id": "FluidBlocking-4",
                "title": "Player Collision With Barriers",
                "prerequisites": "Load world with barrier walls\nBe in survival or creative mode",
                "steps": "Locate a barrier wall\nWalk directly toward the barrier\nAttempt to walk through the barrier\nTry jumping while walking into barrier\nTry sprinting into barrier",
                "expected": "Player is completely blocked by barrier\nPlayer cannot walk through barrier\nPlayer cannot jump over barrier (if barrier is tall enough)\nPlayer collision is smooth (no glitching)",
                "edgeCases": "Test collision at chunk boundaries\nTest collision while swimming\nTest collision while flying in creative mode\nTest collision while riding a horse/boat\n---"
            },
            {
                "id": "FluidBlocking-5",
                "title": "Ender Pearl Blocking",
                "prerequisites": "Load world with barrier walls\nHave ender pearls in inventory\nBe in survival or creative mode",
                "steps": "Stand 10 blocks away from a barrier wall\nAim ender pearl directly at the barrier\nThrow ender pearl\nObserve ender pearl behavior",
                "expected": "Ender pearl hits barrier and falls to ground\nPlayer does NOT teleport through barrier\nEnder pearl is blocked (same as player collision)",
                "edgeCases": "Test throwing pearl at different angles\nTest throwing pearl from above barrier\nTest throwing pearl from below barrier\n---"
            },
            {
                "id": "FluidBlocking-6",
                "title": "Ocean/River Generation",
                "prerequisites": "Generate new world or find ocean biome\nEnsure barrier walls cross water bodies",
                "steps": "Locate a barrier wall that intersects with ocean or river\nObserve barrier integrity in water\nCheck for any missing barrier blocks underwater\nSwim around the barrier checking all Y levels",
                "expected": "All barrier blocks present underwater\nNo gaps in barrier wall due to water\nWater exists on both sides but doesn't flow through\nBarrier extends from bedrock to world height",
                "edgeCases": "Test in different water depths\nTest in flowing rivers\nTest in waterfalls\nTest near water source blocks\n---"
            },
            {
                "id": "FluidBlocking-7",
                "title": "World Generation with Lava",
                "prerequisites": "Find or generate world with lava lakes\nEnsure barrier walls cross lava bodies",
                "steps": "Locate a barrier wall that intersects with lava lake\nObserve barrier integrity in/near lava\nCheck for any missing barrier blocks near lava\nCheck both surface lava and underground lava",
                "expected": "All barrier blocks present near/in lava\nNo gaps in barrier wall due to lava\nLava doesn't flow through barriers\nBarrier blocks don't combust or break",
                "edgeCases": "Test in Nether lava oceans\nTest with lava falls\nTest at Y=11 (common lava level)\nTest in lava lakes at various Y levels\n---"
            },
            {
                "id": "FluidBlocking-8",
                "title": "Chunk Boundary Water/Lava",
                "prerequisites": "Load world with barriers at chunk boundaries\nHave F3+G enabled to see chunk boundaries",
                "steps": "Press F3+G to show chunk boundaries\nLocate barrier exactly at chunk edge\nPlace water/lava bucket at chunk boundary near barrier\nObserve fluid behavior across chunk boundary",
                "expected": "Barrier blocks at chunk boundaries resist water/lava\nNo difference in behavior compared to mid-chunk barriers\nChunk loading doesn't affect barrier integrity\nFluids don't destroy barriers during chunk load/unload",
                "edgeCases": "Test while standing in one chunk, placing fluid in another\nTest with barriers at corner where 4 chunks meet\nTest rapidly loading/unloading chunks with fluid present\nTest in multiplayer with multiple players in different chunks\n---"
            },
            {
                "id": "FluidBlocking-9",
                "title": "Waterlogging Prevention",
                "prerequisites": "Have water bucket\nHave barrier wall",
                "steps": "Right-click on barrier block with water bucket\nAttempt to waterlog the barrier\nObserve if water appears inside barrier block",
                "expected": "Water bucket cannot waterlog barrier\nBarrier block remains unchanged\nWater is not placed (bucket remains full)",
                "edgeCases": "Test with various waterloggable blocks nearby\nTest placing water source adjacent then removing it\n---"
            },
            {
                "id": "FluidBlocking-10",
                "title": "Fluid Flow After Barrier Placement",
                "prerequisites": "Have water source already flowing\nHave admin access to place barriers",
                "steps": "Create a flowing water source\nUse `/chunklocked unlock` or admin command to place barriers in water's path\nObserve water behavior after barrier placement\nCheck if water recalculates flow around new barriers",
                "expected": "Water flow stops at newly placed barriers\nWater recalculates path around barriers\nNewly placed barriers are not destroyed by existing water\nWater does not glitch through barriers",
                "edgeCases": "Place barriers in middle of waterfall\nPlace barriers while water is mid-flow\nPlace multiple barrier walls rapidly in flowing water\n---\n## Test Results Summary\n| Test Case                | Pass/Fail | Notes |\n| ------------------------ | --------- | ----- |\n| 1. Water Bucket          | â¬œ        |       |\n| 2. Lava Bucket           | â¬œ        |       |\n| 3. Mob Pathfinding       | â¬œ        |       |\n| 4. Player Collision      | â¬œ        |       |\n| 5. Ender Pearl           | â¬œ        |       |\n| 6. Ocean Generation      | â¬œ        |       |\n| 7. Lava Generation       | â¬œ        |       |\n| 8. Chunk Boundary        | â¬œ        |       |\n| 9. Waterlogging          | â¬œ        |       |\n| 10. Flow After Placement | â¬œ        |       |\n---\n## Known Issues\n**None currently identified**\n---\n## Regression Testing\nWhen making changes to barrier properties or placement logic, re-run:\nTest Case 1 (Water Bucket) - Critical\nTest Case 3 (Mob Pathfinding) - Critical\nTest Case 4 (Player Collision) - Critical\nThese three tests cover the core functionality that must not break."
            }
        ]
    },
    {
        "id": "gamemodevariants",
        "title": "Game Mode Variants",
        "tests": [
            {
                "id": "GameModeVariants-1",
                "title": "World Creation with EASY Mode",
                "prerequisites": "Clean Minecraft installation with mod installed",
                "steps": "Launch Minecraft\nClick \"Singleplayer\" â†’ \"Create New World\"\nClick \"World Type\" dropdown\nSelect \"Chunklocked: Easy\"\nCreate and enter the world\nWait for world to load\nCheck server console for mode auto-detection\nCheck inventory for starter items",
                "expected": "\"Chunklocked: Easy\" appears in world type dropdown\nWorld generates normally\n**NO COMMAND NEEDED** - mode is auto-detected\nConsole logs: \"User selected Chunklocked: Easy preset\"\nConsole logs: \"Detected Easy mode from marker file\"\nConsole logs: \"Chunklocked mode: EASY\"\nPlayer spawns in 2x2 chunk area with barriers visible\nStarter items AUTOMATICALLY received (3 Oak Saplings + 10 Bone Meal)\nChat message: \"You received starter items!\"",
                "edgeCases": "Verify world type persists if you cancel and reopen creation screen\nVerify difficulty setting doesn't affect Chunklocked mode\n---"
            },
            {
                "id": "GameModeVariants-2",
                "title": "World Creation with EXTREME Mode",
                "prerequisites": "Clean Minecraft installation with mod installed",
                "steps": "Launch Minecraft\nClick \"Singleplayer\" â†’ \"Create New World\"\nClick \"World Type\" dropdown\nSelect \"Chunklocked: Extreme\"\nCreate and enter the world\nCheck server console for auto-detection\nCheck inventory for starter items",
                "expected": "\"Chunklocked: Extreme\" appears in world type dropdown\nWorld generates normally\n**NO COMMAND NEEDED** - mode is auto-detected\nConsole logs: \"User selected Chunklocked: Extreme preset\"\nConsole logs: \"Detected Extreme mode from marker file\"\nConsole logs: \"Chunklocked mode: EXTREME\"\nPlayer spawns in 2x2 chunk area with barriers\nStarter items AUTOMATICALLY received (3 Oak Saplings + 10 Bone Meal)\nChat message: \"You received starter items!\"",
                "edgeCases": "Compare with EASY mode - world generation should be identical\nOnly difference is credit rewards\n---"
            },
            {
                "id": "GameModeVariants-3",
                "title": "World Creation with Default Type (DISABLED Mode)",
                "prerequisites": "Clean Minecraft installation with mod installed",
                "steps": "Create new world with \"Default\" world type\nEnter the world\nCheck server console\nTry to place barriers manually (should not be blocked)\nComplete an advancement (e.g., get wood)",
                "expected": "World generates normally without mod interference\nConsole logs: \"Chunklocked mode is DISABLED. Use /chunklocked set_mode to enable...\"\nNo barriers placed anywhere\nPlayer can move freely in all directions\nAdvancement completion does NOT grant credits\nNO starter items received",
                "edgeCases": "Verify mod is completely inactive (no performance impact)\nVerify you can enable mode later with `/chunklocked set_mode easy`\n---"
            },
            {
                "id": "GameModeVariants-4",
                "title": "Credit Rewards in EASY Mode (TASK/GOAL/CHALLENGE)",
                "prerequisites": "World created with \"Chunklocked: Easy\" world type (auto-detects mode)",
                "steps": "Complete a TASK advancement (e.g., \"Stone Age\" - pick up cobblestone)\nRun `/chunklocked credits` - check credit count\nComplete a GOAL advancement (e.g., \"Hot Stuff\" - fill bucket with lava)\nRun `/chunklocked credits` - check credit count\nComplete a CHALLENGE advancement (e.g., \"Postmortal\" - use totem of undying)\nRun `/chunklocked credits` - check credit count",
                "expected": "TASK advancement grants +1 credit (e.g., \"Stone Age\")\nGOAL advancement grants +5 credits (e.g., \"Hot Stuff\")\nCHALLENGE advancement grants +10 credits (e.g., \"Postmortal\")\nConsole logs each credit reward\n`/chunklocked credits` shows updated count",
                "edgeCases": "Recipe advancements grant 0 credits (filtered out)\nBlacklisted advancements grant 0 credits\nCompleting same advancement twice grants 0 credits (already rewarded)\n---"
            },
            {
                "id": "GameModeVariants-5",
                "title": "Credit Rewards in EXTREME Mode (Reduced Rewards)",
                "prerequisites": "World created with \"Chunklocked: Extreme\" world type (auto-detects mode)",
                "steps": "Complete a TASK advancement (e.g., \"Stone Age\")\nCheck credit count\nComplete a GOAL advancement (e.g., \"Hot Stuff\")\nCheck credit count\nComplete a CHALLENGE advancement (e.g., \"Postmortal\")\nCheck credit count",
                "expected": "TASK advancement grants +1 credit (same as EASY)\nGOAL advancement grants +2 credits (reduced from 5)\nCHALLENGE advancement grants +5 credits (reduced from 10)\nCredit accumulation is much slower than EASY mode",
                "edgeCases": "Compare with EASY mode - EXTREME should feel significantly harder\nVerify all filtering (recipes, blacklist) still works\n---"
            },
            {
                "id": "GameModeVariants-6",
                "title": "Starter Items on First Join (EASY/EXTREME)",
                "prerequisites": "New world with \"Chunklocked: Easy\" or \"Chunklocked: Extreme\" preset",
                "steps": "Create world with Easy or Extreme preset\nJoin world for first time (mode auto-detects)\nOpen inventory (E key)\nCheck for Oak Saplings and Bone Meal\nLeave world and rejoin\nCheck inventory again",
                "expected": "**First Join**: Inventory contains 3 Oak Saplings + 10 Bone Meal\nChat message: \"You received starter items!\"\n**Rejoin**: NO additional items given\nNBT data persists across saves",
                "edgeCases": "Full inventory: Items drop at player's feet\nMultiple players: Each receives items once\nItems can be used/dropped/crafted normally\n---"
            },
            {
                "id": "GameModeVariants-7",
                "title": "Starter Items NOT Given in DISABLED Mode",
                "prerequisites": "World with Default world type (DISABLED mode)",
                "steps": "Create world without Chunklocked world type\nJoin world\nCheck inventory",
                "expected": "NO starter items received\nNo chat message about starter items\nInventory is empty except for default spawn items",
                "edgeCases": "Enabling mode later with command does NOT give retroactive starter items\n---"
            },
            {
                "id": "GameModeVariants-8",
                "title": "Mode Persistence Across Save/Load",
                "prerequisites": "World with EASY mode set",
                "steps": "Create world, set mode to EASY\nComplete 2-3 advancements to earn credits\nUnlock 1-2 chunks using credits\nSave and quit to title\nReload the world\nCheck mode with console logs\nCheck credits with `/chunklocked credits`\nCheck unlocked chunks still accessible",
                "expected": "Mode remains EASY after reload\nCredits persist correctly\nUnlocked chunks remain unlocked\nBarriers remain in correct positions\nNo data loss",
                "edgeCases": "Restart entire Minecraft client\nCopy world folder to different location\nVerify NBT file contains correct mode\n---"
            },
            {
                "id": "GameModeVariants-9",
                "title": "Mode Immutability (Cannot Change After Set)",
                "prerequisites": "World with mode already set to EASY",
                "steps": "Create world, set mode to EASY\nTry to change mode to EXTREME: `/chunklocked set_mode extreme`\nCheck command response\nTry to change mode to DISABLED: `/chunklocked set_mode disabled`\nCheck command response\nVerify mode is still EASY",
                "expected": "Command fails with error message\nError: \"Cannot change mode from EASY to EXTREME. Mode can only be set once per world.\"\nExplanation: \"(This prevents players from switching modes to exploit the system)\"\nMode remains EASY\nNo data corruption",
                "edgeCases": "Setting same mode again (EASY â†’ EASY) should succeed (no-op)\nVerify this prevents exploit where player switches to EASY to farm credits\n---"
            },
            {
                "id": "GameModeVariants-10",
                "title": "Barrier Toggle Command - Disable",
                "prerequisites": "World with barriers visible (locked chunks)",
                "steps": "Create world with barriers\nNote down barrier locations (F3 + G to see chunk boundaries)\nRun `/chunklocked toggle_barriers`\nCheck command feedback\nWalk to where barriers were\nVerify barriers are gone\nCheck console logs",
                "expected": "Command succeeds with message: \"Barriers disabled! (Removed X barriers)\"\nWarning: \"Progression still active. Use /chunklocked toggle_barriers again to restore.\"\nAll barrier blocks removed from world\nPlayer can walk through previous barrier locations\nProgression still tracks (credits, advancements)\nConsole logs: \"Barriers disabled by <player>. Removed X barriers. Progression still tracked.\"",
                "edgeCases": "Verify removing barriers doesn't break other systems\nVerify player can still unlock chunks normally\nVerify credits still accumulate\n---"
            },
            {
                "id": "GameModeVariants-11",
                "title": "Barrier Toggle Command - Re-Enable",
                "prerequisites": "World with barriers disabled (from Test Case 10)",
                "steps": "Continue from previous test with barriers disabled\nRun `/chunklocked toggle_barriers` again\nCheck command feedback\nWalk to chunk boundaries\nVerify barriers are back\nTry to walk through barrier\nCheck console logs",
                "expected": "Command succeeds: \"Barriers restored! (X chunks protected)\"\nBarriers reappear at all chunk boundaries\nPlayer cannot pass through barriers\nBarriers block player but not mobs/water/items\nConsole logs: \"Barriers re-enabled by <player>. Restored barriers for X locked chunks.\"",
                "edgeCases": "Toggle multiple times rapidly - should work consistently\nVerify barrier count matches expected (4 sides per locked chunk adjacent to unlocked)\n---"
            },
            {
                "id": "GameModeVariants-12",
                "title": "Barrier State Persistence",
                "prerequisites": "World with barriers disabled",
                "steps": "Disable barriers with `/chunklocked toggle_barriers`\nVerify barriers are gone\nSave and quit to title\nReload world\nCheck if barriers are still gone or restored\nCheck console logs",
                "expected": "Barrier state persists: barriers remain DISABLED after reload\nConsole logs: \"Barriers enabled: false\"\nPlayer can still move freely\nNo auto-restore (3.2 was deferred)",
                "edgeCases": "Verify NBT contains barriersEnabled flag\nVerify flag defaults to true for old saves\n---"
            },
            {
                "id": "GameModeVariants-13",
                "title": "Recipe Advancement Filtering (No Credits)",
                "prerequisites": "World with EASY mode",
                "steps": "Create world, set EASY mode\nCraft a wooden pickaxe (triggers recipe advancement)\nCheck credits with `/chunklocked credits`\nCraft several more items (planks, sticks, etc.)\nCheck credits again",
                "expected": "Recipe advancements do NOT grant credits\n`/chunklocked credits` count unchanged\nConsole logs show advancements but no credit rewards\nOnly actual achievements (TASK/GOAL/CHALLENGE) grant credits",
                "edgeCases": "Verify all recipe advancements filtered (100+ recipes)\nVerify recipe unlocking still works normally (recipe book)\n---"
            },
            {
                "id": "GameModeVariants-14",
                "title": "Blacklist Honoring in All Modes",
                "prerequisites": "World with EASY or EXTREME mode, config with blacklisted advancement",
                "steps": "Edit config to blacklist an advancement (e.g., \"story/mine_stone\")\nRestart world\nComplete the blacklisted advancement (mine stone)\nCheck credits",
                "expected": "Blacklisted advancement completion detected\nConsole logs advancement but no credit reward\nCredits remain unchanged\nProgression tracking unaffected",
                "edgeCases": "Verify blacklist works for all frame types (TASK/GOAL/CHALLENGE)\nVerify blacklist works in both EASY and EXTREME modes\n---"
            },
            {
                "id": "GameModeVariants-15",
                "title": "Multiplayer Credit Synchronization",
                "prerequisites": "Server with EASY mode, 2+ players",
                "steps": "Player 1 joins server\nPlayer 2 joins server\nPlayer 1 completes advancement\nPlayer 1 checks credits: `/chunklocked credits`\nPlayer 2 checks Player 1's credits: `/chunklocked credits <player1>`\nPlayer 2 completes different advancement\nBoth players check credits",
                "expected": "Each player has independent credit count\nCredits sync correctly to both clients\n`/chunklocked credits` shows own credits\n`/chunklocked credits <player>` shows other player's credits (admin)\nNo credit duplication or loss",
                "edgeCases": "Player joins after advancements completed - credits still accurate\nPlayer disconnects during advancement - credits sync on rejoin\n---"
            },
            {
                "id": "GameModeVariants-16",
                "title": "Starter Items with Full Inventory",
                "prerequisites": "World with mode enabled",
                "steps": "Use creative mode or commands to fill inventory\nSet mode to EASY (if not already)\nRelog to trigger starter items\nCheck ground around player spawn\nPick up items\nUnlock chunks with credits\nUse portal mechanics\nTest penalty system\nTest barrier block collision (player blocked, mobs pass)\nTest command permissions",
                "expected": "Starter items drop at player's feet (entity items)\nItems are visible on ground\nItems can be picked up normally\nNo items lost/deleted\nAll existing features work as before\nNo regressions introduced by mode system\nIntegration is seamless",
                "edgeCases": "Player in midair when items drop - items fall down\nPlayer in water - items float/drop\nPlayer in lava - items may burn (expected)\n---\n## Regression Tests\n### Test Case 17: Existing Features Still Work\nMode DISABLED should completely disable mod\nMode EASY/EXTREME should enable all features\n---\n## Summary Checklist\n[ ] All 17 test cases executed\n[ ] No critical bugs found\n[ ] Performance acceptable\n[ ] Multiplayer tested\n[ ] Documentation updated with findings\n[ ] Known issues documented"
            }
        ]
    },
    {
        "id": "networksynchronization",
        "title": "Network Synchronization & Client Display",
        "tests": [
            {
                "id": "NetworkSynchronization-1",
                "title": "Credit Sync on First Login",
                "prerequisites": "Single-player world or active server\nFirst login to fresh world",
                "steps": "Join the world/server\nCheck client-side credit data is synchronized\nVerify no errors in logs related to packet handling\nCheck chat for any sync confirmation messages (if logging enabled)",
                "expected": "Client-side credit holder is updated with server data (0 credits for new player)\nNo errors in console\nSubsequent UI elements can display credit count",
                "edgeCases": "Test with player who has existing progression data\nTest on server reconnection\nVerify data persists after client-side cache\n---"
            },
            {
                "id": "NetworkSynchronization-2",
                "title": "Credit Sync on Advancement Completion",
                "prerequisites": "World loaded with player\nPlayer can access advancements",
                "steps": "Complete an advancement that awards credits\nExample: Kill any mob (usually awards 1 credit)\nObserve chat notification (if notifications enabled)\nCheck that client data is updated immediately\nVerify no console errors during sync",
                "expected": "Chat message shows credit award (if notifications enabled)\nSound effect plays (experience orb sound)\nClient credit count updates to reflect new total\nNo network errors in logs",
                "edgeCases": "Complete advancement awarding 0 credits (blacklisted)\nComplete advancement awarding custom reward amount\nComplete advancement while offline (should sync on next login)\nRapid advancement completions (test concurrent syncs)\n---"
            },
            {
                "id": "NetworkSynchronization-3",
                "title": "Credit Sync Across Multiple Players",
                "prerequisites": "Local multiplayer server or online server with friends\nMultiple players connected",
                "steps": "Player A completes an advancement (earns 5 credits)\nPlayer B observes their own credit count\nPlayer A earns another advancement\nPlayer B checks they still have their original credit count\nPlayer B completes an advancement\nPlayer A checks their credit count is unchanged",
                "expected": "Each player's client shows only their own credits\nPlayer A's credits: 5 â†’ updated amount after second advancement\nPlayer B's credits: unchanged until they earn advancement\nNo cross-player credit data leakage",
                "edgeCases": "One player joins while another earns credits (timing)\nPlayer disconnects mid-sync\nMultiple rapid completions by different players\n---"
            },
            {
                "id": "NetworkSynchronization-4",
                "title": "Dimension Changes",
                "prerequisites": "Player in Overworld\nAccess to Nether or End",
                "steps": "Note current credit count in Overworld\nTravel to Nether via portal\nCheck credit display still shows correct count\nComplete an advancement in Nether\nVerify credits update correctly\nReturn to Overworld\nVerify credits are still correct",
                "expected": "Credits display correctly in all dimensions\nAdvancements completed in any dimension sync correctly\nNo dimensional data isolation issues\nCredit count persists and updates consistently",
                "edgeCases": "Travel between all three dimensions\nComplete advancement in Nether, return to Overworld\nRapid dimension changes with advancement completion\nDisconnect in one dimension, reconnect in another\n---"
            },
            {
                "id": "NetworkSynchronization-5",
                "title": "Disconnect and Reconnection",
                "prerequisites": "Player with earned credits\nAbility to disconnect and reconnect",
                "steps": "Earn some credits in the world\nNote the credit count\nDisconnect from server (quit game)\nClose the game completely\nReopen game and rejoin the world\nCheck client credit data\nVerify it matches the saved server state",
                "expected": "Client credit data is reset on disconnect\nClient credit data is restored on reconnection\nAll previously earned credits are still there\nNo data loss or duplication",
                "edgeCases": "Disconnect during advancement completion\nRapid disconnect/reconnect cycles\nRejoin different server (should have different credit data)\nRejoin after server was shut down and restarted\n---"
            },
            {
                "id": "NetworkSynchronization-6",
                "title": "Network Packet Integrity",
                "prerequisites": "Game with packet logging enabled (optional)\nNetwork monitoring tools (optional, advanced)",
                "steps": "Enable debug logging with debug log level\nComplete advancements and earn various credit amounts\nObserve packet encode/decode messages in logs\nCheck that logged values match actual credits\nEarn large credit amounts and verify no overflow\nEarn zero credits and verify packet handling",
                "expected": "Packet encode logs show correct values\nPacket decode logs show correct values\nNo integer overflow on large values\nZero credit amounts handled correctly\nPacket codec successfully round-trips all values",
                "edgeCases": "Attempt to earn Integer.MAX_VALUE credits (system limit)\nComplete advancement awarding fractional credits (if supported)\nCorruption simulation (advanced, network packet inspection)\n---"
            },
            {
                "id": "NetworkSynchronization-7",
                "title": "Error Handling",
                "prerequisites": "Game with error logging enabled\nAbility to trigger edge cases",
                "steps": "Attempt to trigger network errors (advanced: kill network briefly)\nTry invalid credit values (negative, overflow)\nDisconnect during packet send\nSpam advancement completions\nCheck logs for any unhandled exceptions",
                "expected": "No uncaught exceptions in logs\nNegative credits rejected with warning\nNetwork disconnections handled gracefully\nHigh-frequency syncs don't crash system\nError messages are clear and logged",
                "edgeCases": "Network latency/lag scenarios\nServer thread contention\nMemory pressure while syncing data\nMalformed packet reception (security concern)\n---"
            },
            {
                "id": "NetworkSynchronization-8",
                "title": "HUD/UI Display Integration",
                "prerequisites": "Mod with UI elements that display credits (future implementation)\nIn-game UI visible",
                "steps": "Enable/open credit display HUD (when implemented)\nEarn credits via advancements\nObserve HUD updates in real-time\nComplete advancement with custom reward\nVerify HUD shows updated credit count\nSwitch to different UI views\nVerify credit data persists in memory",
                "expected": "HUD displays correct credit count\nHUD updates within 1 frame of sync packet\nCredit count visible in all HUD states\nNo flickering or inconsistency in display\nUI accurately reflects server state",
                "edgeCases": "UI hidden/shown during sync\nQuick succession of credit updates\nRapid dimension changes with UI visible\nLong gameplay session (memory integrity)\n---"
            },
            {
                "id": "NetworkSynchronization-9",
                "title": "Performance Impact",
                "prerequisites": "Performance monitoring tools (F3 menu)\nMultiple players on server (if testing multiplayer)",
                "steps": "Establish baseline FPS without advancements\nComplete advancements continuously and monitor FPS\nTest with multiple players earning credits simultaneously\nRun for extended period and check for memory leaks\nMonitor network bandwidth usage\nCheck CPU usage on server with active syncing",
                "expected": "FPS remains stable during syncs (no spikes >5ms)\nMultiplayer syncs don't cause lag for other players\nNo memory accumulation over time\nNetwork bandwidth minimal (packets are small: 8 bytes)\nServer CPU impact negligible",
                "edgeCases": "10+ players earning credits simultaneously\nLong (1+ hour) gameplay session\nServer under other load (mob spawning, redstone)\nResource-constrained environments\n---"
            },
            {
                "id": "NetworkSynchronization-10",
                "title": "Localization and Messaging",
                "prerequisites": "Game set to different language (if available)\nDebug messages enabled",
                "steps": "Complete advancement and check notification message\nCheck credit display formatting\nVerify advancement names display correctly\nCheck all error messages are readable\nTest with non-English locale if available",
                "expected": "All notification messages display correctly\nNo placeholder text visible to player\nNumbers format according to locale\nAdvancement names visible and accurate\nError messages are clear and helpful",
                "edgeCases": "Very long advancement names\nAdvancement names with special characters\nMultiple line messages\nRTL (right-to-left) languages (if supported)\n---\n## Known Limitations and Assumptions\n**Network Reliability**: Assumes reasonably reliable network connection. Packet loss may cause temporary desync.\n**Thread Safety**: Credit sync assumes server thread execution for all modifications.\n**Packet Order**: Relies on Minecraft's packet delivery order guarantee.\n**Multiplayer**: Tested with local multiplayer and online servers.\n---\n## Debug Commands (if implemented)\n`/chunklocked credits` - Display current player credits\n`/chunklocked info <player>` - Admin command to view player's credit data\n`/chunklocked reload` - Reload configuration\n---\n## Troubleshooting\n**Credits not syncing after advancement**:\nCheck that advancement completion is detected (look for log messages)\nVerify NotificationManager.syncCreditsToClient() is being called\nCheck that ServerPlayNetworking is properly configured\nVerify client packet handler is registered\n**Client shows zero credits after login**:\nCheck player data on server (if available)\nVerify ChunkUnlockData is loaded correctly\nCheck that initial sync packet is sent on player join\nLook for exceptions in packet sending\n**Crashes during sync**:\nCheck for integer overflow in credit calculations\nVerify packet encoding doesn't exceed buffer size\nLook for null pointer exceptions in packet data\nCheck JVM memory isn't exhausted\n**Performance degradation**:\nMonitor packet frequency (should be 1-2 per advancement)\nCheck for packet send loops (unbounded iteration)\nVerify client packet handler doesn't block main thread\nProfile CPU usage on both sides\n---\n## Test Sign-Off\n[ ] All test cases passed\n[ ] No critical errors found\n[ ] Performance is acceptable\n[ ] Multiplayer functionality verified\n[ ] Ready for public release\n**Tester**: **\\*\\*\\*\\***\\_**\\*\\*\\*\\***\n**Date**: **\\*\\*\\*\\***\\_**\\*\\*\\*\\***\n**Notes**: **\\*\\*\\*\\***\\_**\\*\\*\\*\\***"
            }
        ]
    },
    {
        "id": "nonplayerblockremoval",
        "title": "Non-Player Block Removal",
        "tests": [
            {
                "id": "NonPlayerBlockRemoval-1",
                "title": "Leaf Decay",
                "prerequisites": "",
                "steps": "Locate a barrier wall between locked/unlocked chunks\nPlace oak or birch leaves against the barrier (at Y=70-100 for visibility)\nEnsure leaves are close to logs or other leaves (within 6 blocks) so they don't immediately decay\nRemove all nearby logs/leaves to trigger decay timer\nWait 20-40 seconds for leaves to decay",
                "expected": "Leaves decay naturally\nIf leaves were placed ON barrier blocks, barrier blocks should immediately reappear after decay\nNo holes should remain in the barrier wall\nServer log should show: \"Non-player block removal detected at barrier boundary [pos], replacing with barrier\"",
                "edgeCases": "Leaves at different Y levels (ground level, tree height, sky limit)\nMultiple leaf blocks decaying simultaneously\nLeaves on corners of chunk boundaries\n---"
            },
            {
                "id": "NonPlayerBlockRemoval-2",
                "title": "TNT Explosions",
                "prerequisites": "",
                "steps": "Locate a barrier wall\nStand in the unlocked chunk\nPlace TNT 2-3 blocks from the barrier wall\nIgnite TNT with flint and steel\nObserve the explosion",
                "expected": "TNT explodes and destroys surrounding terrain\nBarrier blocks destroyed by explosion are immediately replaced\nNo holes remain in the barrier wall after explosion\nNormal terrain blocks are destroyed as expected\nServer log shows barrier replacement messages",
                "edgeCases": "Multiple TNT explosions in quick succession\nTNT minecarts\nCreeper explosions\nEnd crystal explosions\nBed explosions in Nether (if barrier walls exist there)\n---"
            },
            {
                "id": "NonPlayerBlockRemoval-3",
                "title": "Fire Burning Blocks",
                "prerequisites": "",
                "steps": "Locate barrier wall between locked/unlocked chunks\nPlace wooden planks on top of barrier blocks\nUse flint and steel to ignite the wood\nWait for fire to spread and consume the wood\nCheck if barriers remain intact",
                "expected": "Wood burns away\nIf wood was placed on barrier blocks, barriers should reappear\nNo holes in barrier wall\nFire does not spread through barriers",
                "edgeCases": "Lava flow onto barriers\nLightning striking barriers\nFlint and steel used directly on barriers (should not place fire)\n---"
            },
            {
                "id": "NonPlayerBlockRemoval-4",
                "title": "Water/Lava Flow",
                "prerequisites": "",
                "steps": "Locate barrier wall between locked/unlocked chunks\nPlace water source block 1 block away from barrier (in unlocked chunk)\nObserve water flow attempting to reach barrier\nRepeat with lava",
                "expected": "Water/lava flows toward barrier but stops at barrier face\nFluids do not pass through barriers\nBarriers remain intact\nNo blocks are destroyed by fluid flow",
                "edgeCases": "Water from above flowing down barrier wall\nLava from above (should not destroy barriers)\nKelp/seagrass placed near barriers (should not break barriers)\n---"
            },
            {
                "id": "NonPlayerBlockRemoval-5",
                "title": "Piston Movement",
                "prerequisites": "",
                "steps": "Locate barrier wall\nPlace sticky piston facing barrier block (in unlocked chunk)\nPower the piston with redstone\nObserve piston behavior",
                "expected": "Piston extends but cannot move barrier block\nBarrier remains in place\nPiston retracts normally\nNo holes created in barrier",
                "edgeCases": "Normal piston (non-sticky)\nPiston from locked side (if accessible)\nSlime block contraptions pushing into barriers\n---"
            },
            {
                "id": "NonPlayerBlockRemoval-6",
                "title": "Dragon Egg Teleportation",
                "prerequisites": "",
                "steps": "Place dragon egg on top of a barrier block at chunk boundary\nRight-click the dragon egg to make it teleport\nCheck if barrier remains after egg teleports away",
                "expected": "Dragon egg teleports to new location\nBarrier block remains at original position\nNo hole created in barrier wall\n---",
                "edgeCases": ""
            },
            {
                "id": "NonPlayerBlockRemoval-7",
                "title": "Grass/Mycelium Spread",
                "prerequisites": "",
                "steps": "Locate ground-level barrier wall\nPlace dirt blocks with grass on top adjacent to barriers\nWait for grass spread mechanics (may take several minutes with random ticks)\nObserve if barriers are affected",
                "expected": "Grass spreads to adjacent dirt blocks normally\nBarriers are not converted to grass\nBarriers remain intact\nNo visual glitches\n---",
                "edgeCases": ""
            },
            {
                "id": "NonPlayerBlockRemoval-8",
                "title": "Bamboo/Sugarcane Growth",
                "prerequisites": "",
                "steps": "Locate barrier wall at ground level\nPlant bamboo or sugarcane on blocks adjacent to barriers\nUse bonemeal to speed up growth\nObserve if growth attempts to break through barriers",
                "expected": "Plants grow upward normally\nPlants do not break or replace barrier blocks\nPlants do not grow into locked chunks\nBarriers remain intact\n---",
                "edgeCases": ""
            },
            {
                "id": "NonPlayerBlockRemoval-9",
                "title": "Snow/Ice Formation",
                "prerequisites": "",
                "steps": "Teleport to snowy biome with barrier walls\nUse `/weather rain` or wait for natural snowfall\nObserve if snow accumulates on barriers\nCheck if freeze mechanics affect barriers",
                "expected": "Snow may accumulate on top of barriers (cosmetic)\nWater adjacent to barriers may freeze\nBarriers themselves are not destroyed or modified\nNo holes created in barrier wall\n---",
                "edgeCases": ""
            },
            {
                "id": "NonPlayerBlockRemoval-10",
                "title": "Command-Based Block Changes",
                "prerequisites": "",
                "steps": "Locate barrier at chunk boundary\nTry command: `/setblock <barrier_pos> air`\nObserve if barrier is removed and replaced",
                "expected": "Command initially removes barrier block\nBarrier is immediately replaced by BlockRemovalMixin\nNo permanent hole is created\nServer log shows replacement message",
                "edgeCases": "`/fill` command covering multiple barrier blocks\n`/clone` command involving barriers\nWorldEdit (if present) commands\n---\n## Regression Tests\nAfter implementing the fix, re-run these existing tests to ensure no functionality broke:\n**Player Block Breaking** (manual-tests/ChunkAccessControl.md)\nPlayers should still be unable to break through barriers by hand\nBarriers broken by players should still be replaced\n**Barrier Placement** (manual-tests/ChunkStorageAndManagement.md)\nBarriers should still be placed correctly when chunks are locked\nMultiple areas should still work correctly\n**Performance**\nCheck server TPS with `/tps` command (if available) or observe lag\nThe mixin should not cause noticeable performance impact\nLarge explosions should not cause excessive lag from barrier replacement\n---\n## Known Limitations\nMixin fires for ALL block removals, which could have slight performance impact in very active worlds\nCommand-based block removal will trigger barrier replacement (may interfere with admin building near barriers)\nDragon egg teleportation is somewhat rare, may be difficult to test extensively\n---\n## Success Criteria\nâœ… All test cases pass\nâœ… No holes can be created in barrier walls by any non-player means\nâœ… Server performance remains acceptable\nâœ… Existing functionality still works (regression tests pass)\nâœ… Server logs show appropriate barrier replacement messages"
            }
        ]
    },
    {
        "id": "phase2-optimizationandfeedback",
        "title": "Phase 2: Optimization & Edge Cases",
        "tests": [
            {
                "id": "Phase2-OptimizationAndFeedback-1",
                "title": "Smart Barrier Placement - Locked/Unlocked Boundaries",
                "prerequisites": "Create a new world with Chunk Locked mod\nStart at coordinates where initial 2x2 chunk area is unlocked\nHave admin access (/op)\n**Setup**:\nNote your initial spawn chunk position (should be a 2x2 area)\nRun `/chunklocked debug info` to see unlocked chunks",
                "steps": "Stand in an unlocked chunk (part of starting 2x2)",
                "expected": "Barriers removed from that side, new barriers appear on far side of newly unlocked chunk",
                "edgeCases": "Check diagonal corners (where north and west barriers meet)\nCheck when unlocked area forms an L-shape (some edges have locked neighbors, some don't)\nCheck when unlocked area is only 1x1 (all 4 sides surrounded by locked chunks)\n---"
            },
            {
                "id": "Phase2-OptimizationAndFeedback-2",
                "title": "Lazy Barrier Loading",
                "prerequisites": "Restart the server/world to test fresh chunk loading\nHave several chunks unlocked by advancement completion\nMonitor server logs for timing",
                "steps": "Close the world\nDelete chunks from the region folder (in run/saves/[world]/region/) to force reload\nDelete specific .mca files that contain locked chunks\nReopen the world\nMonitor as chunks load",
                "expected": "Matches expected number (16 blocks per side _ # of locked/unlocked boundaries _ 384 world height)",
                "edgeCases": "World with 100+ chunks unlocked (test at massive scale)\nUnlock chunk right as nearby chunk is loading (timing edge case)\n---"
            },
            {
                "id": "Phase2-OptimizationAndFeedback-3",
                "title": "Batch Barrier Operations Performance",
                "prerequisites": "World with server-side profiling enabled (optional: use `/profiler`)\nMultiple locked chunks adjacent to a single unlocked chunk",
                "steps": "Monitor server TPS with `/tps` command (if available) or watch for lag\nUnlock a single chunk adjacent to 5+ locked chunks",
                "expected": "Barrier placement time <100ms per chunk",
                "edgeCases": "Unlock chunk with 100+ barrier blocks to place\nUnlock while other chunks are being loaded\n---"
            },
            {
                "id": "Phase2-OptimizationAndFeedback-4",
                "title": "Particle Feedback at Barriers",
                "prerequisites": "Client particle settings NOT set to \"Minimal\"\nStanding at barrier edge",
                "steps": "Walk toward a barrier wall (locked chunk edge)\nHit the barrier (attempt to move into it)",
                "expected": "Particles appear in different locations as you hit different parts of the wall",
                "edgeCases": "With particle settings at \"All\": see abundant particles\nWith particle settings at \"Low\": see fewer particles\nRapidly clicking (spam) barrier: particles should still throttle\n---"
            },
            {
                "id": "Phase2-OptimizationAndFeedback-5",
                "title": "Sound Feedback at Barriers",
                "prerequisites": "Master volume ON\nSound settings at reasonable level (not muted)",
                "steps": "Walk toward barrier\nAttempt to enter locked chunk",
                "expected": "Sound plays from different locations",
                "edgeCases": "Very close to barrier: sound still plays\nFar from barrier: sound volume decreases appropriately\nRapidly spamming movement: sound throttled (not spam)\n---"
            },
            {
                "id": "Phase2-OptimizationAndFeedback-6",
                "title": "Action Bar Message Feedback",
                "prerequisites": "Playing in single-player or multiplayer\nCan see action bar (text above hotbar)",
                "steps": "Approach a locked chunk boundary from an unlocked chunk",
                "expected": "Message appears again",
                "edgeCases": "At exact chunk boundary (X=0, Z=0): message still appears\nMultiple locked chunks adjacent: message matches closest/most relevant chunk\nAfter unlocking: message shouldn't appear at that boundary anymore\n---"
            },
            {
                "id": "Phase2-OptimizationAndFeedback-7",
                "title": "Unlock Particle Feedback",
                "prerequisites": "Have unlock credits available\nParticle settings enabled",
                "steps": "Complete an advancement to gain unlock credits\nOpen chunk map UI (if implemented) and unlock a chunk",
                "expected": "Particles appear at correct chunk centers",
                "edgeCases": "Unlock chunk at world border: particles still visible\nUnlock chunk far from player: particles still spawn and visible\nMultiple simultaneous unlocks: particles for each chunk\n---"
            },
            {
                "id": "Phase2-OptimizationAndFeedback-8",
                "title": "Unlock Sound Feedback",
                "prerequisites": "Sound enabled\nJust completed an advancement or have credits to spend",
                "steps": "Unlock a chunk (via UI or command)",
                "expected": "Different bell sound plays for new chunk",
                "edgeCases": "Underwater: sound still audible\nIn caves: sound still plays\nFar from chunk: sound has appropriate falloff\n---"
            },
            {
                "id": "Phase2-OptimizationAndFeedback-9",
                "title": "Barrier Replacement (Creative Mode)",
                "prerequisites": "In creative mode\nHolding barrier block in hand (or use creative menu)\nStanding next to a barrier wall",
                "steps": "Break a barrier block with left-click",
                "expected": "Barrier still replaced",
                "edgeCases": "Break dozens in a row: all replaced\nBreak during chunk loading: handled correctly\n---"
            },
            {
                "id": "Phase2-OptimizationAndFeedback-10",
                "title": "Smart Barrier Removal on Unlock",
                "prerequisites": "2x2 unlocked starting area\nAt least 1 locked chunk adjacent to starting area",
                "steps": "Note barrier positions at boundary\nVisualize the wall between unlocked and locked chunk\nUnlock the adjacent locked chunk",
                "expected": "Barriers only at perimeter where locked chunks still exist",
                "edgeCases": "Unlock in specific order to create complex shapes\nCheck corners where multiple barrier walls meet\n---"
            },
            {
                "id": "Phase2-OptimizationAndFeedback-11",
                "title": "Multiplayer Barrier Synchronization",
                "prerequisites": "2-player multiplayer world\nBoth players can see each other",
                "steps": "Player A approaches barrier from unlocked chunk",
                "expected": "Can move freely (barriers removed)",
                "edgeCases": "Rapid unlock spam by both players\nOne player logs out during barrier placement\nUnlock happens while second player is moving toward boundary\n---"
            },
            {
                "id": "Phase2-OptimizationAndFeedback-12",
                "title": "World Border vs Barriers (Overworld Only)",
                "prerequisites": "Access to Nether and End portals\nFrom Overworld (barriers should exist)",
                "steps": "In Overworld, confirm barriers exist at locked chunk boundaries",
                "expected": "No barrier blocks found in Nether",
                "edgeCases": "Travel between Overworld and Nether multiple times\nComplete advancements in Nether (verify chunk unlock only affects Overworld barriers)\n---\n## Summary\n**All Phase 2 tests passing** indicates:\nâœ… Smart barrier placement working (only at locked/unlocked boundaries)\nâœ… Lazy loading functional (handles async chunk loading)\nâœ… Batch operations optimized (no lag on large unlocks)\nâœ… Particle feedback working (throttled, visible)\nâœ… Sound feedback working (throttled, audible)\nâœ… Action bar messages functional (informative, throttled)\nâœ… Multiplayer synchronized correctly\nâœ… Overworld-only enforcement working\nâœ… Edge cases handled appropriately\n**Next Steps**: Proceed to Phase 3 implementation (interaction blocking, ender pearl prevention)."
            }
        ]
    },
    {
        "id": "portalandpenaltysystem",
        "title": "Portal Mechanics & Locked Chunk Penalties",
        "tests": [
            {
                "id": "PortalAndPenaltySystem-1",
                "title": "Nether Portal - Auto-Unlock with Credits",
                "prerequisites": "",
                "steps": "Start in Overworld, unlocked chunk area (barriers visible)\n`/chunklocked givecredits 5` - Ensure you have 5 credits\nNote current chunk coordinates\nBuild a Nether portal and enter it\nTravel in Nether to be far from portal location\nReturn through portal, exit into a **locked chunk**\nObserve action bar message immediately\n**Expected Results**:\nâœ… Action bar message: \"Â§aâœ“ Chunk auto-unlocked via Nether portal! (Credits remaining: 4)\"\nâœ… Barriers around the newly unlocked chunk **disappear**\nâœ… New barriers appear around adjacent locked chunks\nâœ… Credit count decreases by 1\nâœ… Chunk is now marked as unlocked globally\n**Actual Result**: ******\\_\\_\\_******\n**Pass/Fail**: â˜ PASS â˜ FAIL\n---",
                "expected": "",
                "edgeCases": ""
            },
            {
                "id": "PortalAndPenaltySystem-2",
                "title": "Nether Portal - No Unlock (No Credits)",
                "prerequisites": "",
                "steps": "`/chunklocked givecredits -999` - Remove all credits\nBuild a Nether portal\nTravel in Nether, return through portal\nExit into a locked chunk\nObserve immediately\nWait 5 seconds and observe again\n**Expected Results**:\nâœ… Action bar message: \"Â§aâœ“ Chunk auto-unlocked...\" does NOT appear\nâœ… Within 1 second: Wither II effect appears (darkening screen effect)\nâœ… After 5 seconds: Warning message appears:\n\"Â§câš  WARNING: You are in a locked chunk with no credits!\"\n\"Â§câš  Return to an unlocked chunk to escape the Wither effect\"\nâœ… Health bar shows Wither effect icon (gray skull)\nâœ… Wither effect reapplies after 3 seconds even if you drink milk\n**Actual Result**: ******\\_\\_\\_******\n**Pass/Fail**: â˜ PASS â˜ FAIL\n---",
                "expected": "",
                "edgeCases": ""
            },
            {
                "id": "PortalAndPenaltySystem-3",
                "title": "Escape Wither - Walk to Unlocked Chunk",
                "prerequisites": "",
                "steps": "Set up: Zero credits, in locked chunk (Wither active)\nWait for Wither effect to be clearly visible\nWalk toward nearest unlocked chunk (follow where barriers end)\nCross into unlocked chunk area\nObserve immediately\n**Expected Results**:\nâœ… Wither effect **immediately disappears** (gray skull icon vanishes)\nâœ… Health returns to normal color\nâœ… No more warning messages\n**Actual Result**: ******\\_\\_\\_******\n**Pass/Fail**: â˜ PASS â˜ FAIL\n---",
                "expected": "",
                "edgeCases": ""
            },
            {
                "id": "PortalAndPenaltySystem-4",
                "title": "Escape Wither - Enter Nether",
                "prerequisites": "",
                "steps": "Set up: Zero credits, in locked chunk (Wither active)\nLocate/create Nether portal\nEnter Nether portal (trigger dimension change)\nObserve in Nether\n**Expected Results**:\nâœ… Wither effect **immediately disappears** upon entering Nether\nâœ… No Wither effect visible in Nether\nâœ… Can move freely in Nether without penalty\n**Actual Result**: ******\\_\\_\\_******\n**Pass/Fail**: â˜ PASS â˜ FAIL\n---",
                "expected": "",
                "edgeCases": ""
            },
            {
                "id": "PortalAndPenaltySystem-5",
                "title": "Milk Bucket Temporary Relief (Wither Reapply)",
                "prerequisites": "",
                "steps": "Set up: Zero credits, in locked chunk (Wither active)\nDrink milk bucket\nObserve immediately and at 1 second and 3 seconds\n**Expected Results**:\nâœ… Wither effect **temporarily disappears** (instantly when milk consumed)\nâœ… At 1 second: Still no Wither (within reapply interval)\nâœ… At 3 seconds: Wither effect **reapplies** automatically\nâœ… Health shows damage again\nâœ… Gray skull icon returns\nâœ… Cannot permanently escape penalty with milk buckets\n**Actual Result**: ******\\_\\_\\_******\n**Pass/Fail**: â˜ PASS â˜ FAIL\n---",
                "expected": "",
                "edgeCases": ""
            },
            {
                "id": "PortalAndPenaltySystem-6",
                "title": "Return from Nether - Unlocked Chunk (No Penalty)",
                "prerequisites": "",
                "steps": "`/chunklocked givecredits 0` - Ensure zero credits\nFrom unlocked chunk, enter Nether\nTravel in Nether\nReturn to Overworld (via portal) - arrive in **unlocked chunk area**\nObserve immediately\n**Expected Results**:\nâœ… No Wither effect applies\nâœ… No warning messages\nâœ… Movement unrestricted\nâœ… Can move between unlocked chunks freely\n**Actual Result**: ******\\_\\_\\_******\n**Pass/Fail**: â˜ PASS â˜ FAIL\n---",
                "expected": "",
                "edgeCases": ""
            },
            {
                "id": "PortalAndPenaltySystem-7",
                "title": "Return from Nether - Locked Chunk (Penalty Applies)",
                "prerequisites": "",
                "steps": "`/chunklocked givecredits 0` - Zero credits\nFrom Overworld, go to locked chunk adjacent to your spawn\nEnter Nether (note that locked chunk restrictions don't apply in Nether)\nReturn through portal, arrive back in same **locked chunk**\nObserve immediately\nWait 5 seconds\n**Expected Results**:\nâœ… Wither effect applies within 1 second\nâœ… Warning message appears at 5 seconds\nâœ… Cannot stay in locked chunk without penalty\n**Actual Result**: ******\\_\\_\\_******\n**Pass/Fail**: â˜ PASS â˜ FAIL\n---",
                "expected": "",
                "edgeCases": ""
            },
            {
                "id": "PortalAndPenaltySystem-8",
                "title": "Warning Message Frequency (No Spam)",
                "prerequisites": "",
                "steps": "Set up: Zero credits, in locked chunk (Wither active)\nWait and observe warning message frequency\nNote approximate time between messages\nStay in locked chunk for 30 seconds, count messages\n**Expected Results**:\nâœ… Warning message appears every ~5 seconds\nâœ… Messages are frequent enough to remind player to leave\nâœ… Not so frequent that chat is spammed\nâœ… Approximately 6 messages in 30 seconds\n**Actual Result**: ******\\_\\_\\_******\nMessage count in 30 seconds: \\_\\_\\_\nApproximate frequency: \\_\\_\\_ seconds\n**Pass/Fail**: â˜ PASS â˜ FAIL\n---",
                "expected": "",
                "edgeCases": ""
            },
            {
                "id": "PortalAndPenaltySystem-9",
                "title": "Multiple Players (No Cross-Interference)",
                "prerequisites": "",
                "steps": "Player 1: `/chunklocked givecredits 0` - Zero credits\nPlayer 1: Walk into locked chunk (observe Wither applies)\nPlayer 2: Walk into same locked chunk BUT `/chunklocked givecredits 5` - Has credits\nObserve both players\n**Expected Results**:\nâœ… Player 1: Wither effect visible, warning messages\nâœ… Player 2: No Wither effect, can move freely\nâœ… Each player's state is independent\nâœ… No cross-effect between players\n**Actual Result**: ******\\_\\_\\_******\n**Pass/Fail**: â˜ PASS â˜ FAIL\n---",
                "expected": "",
                "edgeCases": ""
            },
            {
                "id": "PortalAndPenaltySystem-10",
                "title": "Barrier Updates After Portal Unlock",
                "prerequisites": "",
                "steps": "`/chunklocked debugbarriers` - Note frontier chunks and barrier positions\nNote a locked chunk adjacent to unlocked area\nUse Nether portal to unlock that locked chunk\nReturn to world and check barrier status\n`/chunklocked debugbarriers` - Compare to previous state\n**Expected Results**:\nâœ… Barriers removed from newly unlocked chunk\nâœ… Barriers appear on NEW frontier (if any adjacent chunks are still locked)\nâœ… Barrier positions are physically accurate (Y=-64 to Y=319, edge of chunks)\nâœ… No orphaned barriers\n**Actual Result**: ******\\_\\_\\_******\n**Pass/Fail**: â˜ PASS â˜ FAIL\n---\n## Summary\n| Test Case | Title                                    | Result        |\n| --------- | ---------------------------------------- | ------------- |\n| 1         | Nether Portal - Auto-Unlock with Credits | â˜ PASS â˜ FAIL |\n| 2         | Nether Portal - No Unlock (No Credits)   | â˜ PASS â˜ FAIL |\n| 3         | Escape Wither - Walk to Unlocked Chunk   | â˜ PASS â˜ FAIL |\n| 4         | Escape Wither - Enter Nether             | â˜ PASS â˜ FAIL |\n| 5         | Milk Bucket Temporary Relief             | â˜ PASS â˜ FAIL |\n| 6         | Return from Nether - Unlocked Chunk      | â˜ PASS â˜ FAIL |\n| 7         | Return from Nether - Locked Chunk        | â˜ PASS â˜ FAIL |\n| 8         | Warning Message Frequency                | â˜ PASS â˜ FAIL |\n| 9         | Multiple Players (No Cross-Interference) | â˜ PASS â˜ FAIL |\n| 10        | Barrier Updates After Portal Unlock      | â˜ PASS â˜ FAIL |\n**Overall Status**: \\_\\_\\_ / 10 passed\n---\n## Notes\nList any bugs or issues discovered: ******\\_\\_\\_******\nList any edge cases found: ******\\_\\_\\_******\nPerformance observations (lag, stuttering): ******\\_\\_\\_******\nSuggestions for improvement: ******\\_\\_\\_******",
                "expected": "",
                "edgeCases": ""
            }
        ]
    },
    {
        "id": "respawninlockedchunks",
        "title": "Player Respawn in Locked Chunks",
        "tests": [
            {
                "id": "RespawnInLockedChunks-1",
                "title": "Respawn at World Spawn in Locked Chunk",
                "prerequisites": "New world created with Chunk Locked mode\nWorld spawn is in a locked chunk (or you've unlocked chunks away from spawn)",
                "steps": "Create a new Chunk Locked world (Easy or Extreme mode)\nUnlock chunks away from world spawn using `/chunklocked forceunlock` command\nDie in the game (fall damage, lava, etc.)\nRespawn at world spawn",
                "expected": "Player respawns successfully\nA 2x2 chunk area is automatically unlocked around the respawn location\nPlayer receives message: \"Â§eYou respawned in a locked area. Unlocked a 2x2 area around you!\"\nBarriers are refreshed and player can move normally\nNo death loop or stuck scenario",
                "edgeCases": "Test with different death causes (fall, drowning, lava, mobs)\nTest in multiplayer with multiple players respawning\n---"
            },
            {
                "id": "RespawnInLockedChunks-2",
                "title": "Respawn at Bed in Locked Chunk",
                "prerequisites": "Chunk Locked world with some unlocked chunks\nBed placed in a chunk that will be locked",
                "steps": "Place and set spawn point at a bed in an unlocked chunk\nNote the bed's chunk coordinates\nUse `/chunklocked forcelock <chunkX> <chunkZ>` to lock the bed's chunk\nGo somewhere else and die\nRespawn at the bed",
                "expected": "Player respawns at bed location successfully\nThe bed's chunk and surrounding 2x2 area are automatically unlocked\nPlayer receives message: \"Â§eYou respawned in a locked area. Unlocked a 2x2 area around you!\"\nBarriers update and player is not trapped\nBed remains functional",
                "edgeCases": "Test with missing/obstructed bed (bed was broken)\nTest with bed in different dimension (Nether)\n---"
            },
            {
                "id": "RespawnInLockedChunks-3",
                "title": "Respawn at Respawn Anchor in Locked Chunk (Nether)",
                "prerequisites": "Chunk Locked world with Nether access\nRespawn Anchor placed and charged in Nether\nNote: Nether should not have restrictions in Chunk Locked mode",
                "steps": "Enter the Nether\nPlace and charge a Respawn Anchor\nSet spawn point by using the anchor\nDie in the Nether\nRespawn at the anchor",
                "expected": "Player respawns at anchor successfully\nNo chunk locking mechanics apply (Nether is unrestricted)\nPlayer can move freely\nNo auto-unlock messages appear",
                "edgeCases": "Test with depleted anchor\nTest with obstructed anchor\n---"
            },
            {
                "id": "RespawnInLockedChunks-4",
                "title": "Normal Respawn in Already Unlocked Chunk",
                "prerequisites": "Chunk Locked world\nSpawn point (bed/world spawn) in an already unlocked chunk",
                "steps": "Set spawn point in a chunk that's already unlocked\nDie\nRespawn",
                "expected": "Player respawns normally\nNo additional chunks are unlocked\nNo \"respawned in locked area\" message appears\nGameplay continues normally\n---",
                "edgeCases": ""
            },
            {
                "id": "RespawnInLockedChunks-5",
                "title": "Multiple Respawns in Same Location",
                "prerequisites": "Chunk Locked world\nSpawn point in a locked chunk",
                "steps": "Set spawn point in a locked chunk\nDie and respawn (chunks get unlocked)\nUse `/chunklocked forcelock` to re-lock those chunks\nDie and respawn again in the same location",
                "expected": "First respawn: 2x2 area unlocked, message appears\nAfter re-locking: chunks are locked again\nSecond respawn: 2x2 area unlocked again, message appears\nSystem handles repeated respawns gracefully\n---",
                "edgeCases": ""
            },
            {
                "id": "RespawnInLockedChunks-6",
                "title": "Respawn Edge Case - Corner of Locked Area",
                "prerequisites": "Chunk Locked world with specific unlock pattern\nSpawn point at the edge of an unlocked area, bordering locked chunks",
                "steps": "Create a situation where spawn point is exactly at the corner of unlocked chunks\nLock the spawn chunk\nDie and respawn",
                "expected": "2x2 area centered on spawn chunk is unlocked\nUnlocking may overlap with existing unlocked chunks (this is okay)\nPlayer can move in all directions\nBarriers update correctly\n---",
                "edgeCases": ""
            },
            {
                "id": "RespawnInLockedChunks-7",
                "title": "Multiplayer - Multiple Players Respawning Simultaneously",
                "prerequisites": "Multiplayer Chunk Locked world\n2+ players\nSpawn points in locked chunks",
                "steps": "Have 2+ players set spawn points in different locked chunks\nAll players die at roughly the same time\nAll players respawn simultaneously",
                "expected": "Each player respawns in their locked chunk\nEach player gets their own 2x2 area unlocked\nNo race conditions or conflicts\nAll players receive appropriate messages\nChunk unlock data persists correctly\n---",
                "edgeCases": ""
            },
            {
                "id": "RespawnInLockedChunks-8",
                "title": "Respawn in Different Dimension (End Return)",
                "prerequisites": "Chunk Locked world\nAccess to The End",
                "steps": "Enter The End\nDefeat the Ender Dragon (or die in The End)\nReturn to Overworld via end portal or death\nDie and respawn repeatedly (10+ times in 1 minute)\nMonitor server/client performance\nUnlock 100+ chunks in the world\nDie and respawn in a locked chunk",
                "expected": "If returning via end portal: normal end portal behavior\nIf dying in The End: respawn at Overworld spawn point\nIf Overworld spawn is in locked chunk: auto-unlock 2x2 area\nAppropriate messages appear\nNo dimensional teleport issues\n---\n## Regression Tests\n### Previous Bug Verification\n**Bug**: Player died and respawned outside unlocked chunks, becoming trapped\n**Verification Steps**:\nCreate a new Chunk Locked world\nUnlock a few chunks away from world spawn\nSet spawn at a bed in a locked chunk\nDie\nRespawn\nPlayer does NOT get trapped in locked chunks\n2x2 area is automatically unlocked\nPlayer can continue playing normally\nBug is FIXED âœ…\n---\n## Performance Tests\n### Test Case P1: Rapid Respawns\nNo memory leaks\nNo performance degradation\nChunk unlocks happen quickly (<100ms)\nBarrier updates are efficient\n### Test Case P2: Respawn with Many Unlocked Chunks\nRespawn handling is fast\nNo lag spikes\nChunk unlock operations remain efficient\n---\n## Known Limitations\nNone currently identified. If limitations are discovered during testing, document them here.\n---\n## Test Checklist\n[ ] Test Case 1: World Spawn Respawn\n[ ] Test Case 2: Bed Respawn in Locked Chunk\n[ ] Test Case 3: Respawn Anchor (Nether)\n[ ] Test Case 4: Normal Respawn in Unlocked Chunk\n[ ] Test Case 5: Multiple Respawns Same Location\n[ ] Test Case 6: Corner/Edge Respawn\n[ ] Test Case 7: Multiplayer Simultaneous Respawn\n[ ] Test Case 8: End Dimension Return/Respawn\n[ ] Regression: Original Bug Fixed\n[ ] Performance: Rapid Respawns\n[ ] Performance: Many Unlocked Chunks\n---\n## Notes\nThe respawn handler is implemented as a mixin in `ServerPlayerMixin.java`\nIt injects into the `respawn()` method at the RETURN point\nThe handler calls `Chunklocked.handlePlayerSpawnInLockedChunk(player, world, true)`\nThe `true` parameter indicates this is a respawn (vs initial join)\nAuto-unlocking 2x2 areas ensures players are never trapped after death",
                "edgeCases": ""
            }
        ]
    },
    {
        "id": "straybarrierbugfixtest",
        "title": "Stray Barrier Block Bugfix - Test Case",
        "tests": [
            {
                "id": "StrayBarrierBugfixTest-1",
                "title": "Basic Stray Barrier Cleanup",
                "prerequisites": "In Creative mode (easier to break many blocks)\nStanding at a barrier wall between an unlocked and locked chunk\nHave ability to unlock chunks (advancements/credits)",
                "steps": "Identify a barrier wall at a chunk boundary\nNorth, South, East, or West edge of an unlocked chunk\nAdjacent to a locked chunk\nBreak 5-10 barrier blocks at this location\nLeft-click each barrier block repeatedly",
                "expected": "No barriers found in the cleared area\n---",
                "edgeCases": ""
            },
            {
                "id": "StrayBarrierBugfixTest-2",
                "title": "Multiple Break Events at Same Boundary",
                "prerequisites": "Creative mode\nAt a barrier boundary\nLocked adjacent chunk ready to unlock",
                "steps": "Break and replace barrier blocks 20+ times in a row\nRapidly left-click different spots in the wall",
                "expected": "Can walk freely through former boundary\n---",
                "edgeCases": ""
            },
            {
                "id": "StrayBarrierBugfixTest-3",
                "title": "Complex Shape with Stray Barriers",
                "prerequisites": "2x2 starting unlocked area\nMultiple locked chunks adjacent in various directions",
                "steps": "Break some barriers at North boundary\nBreak some barriers at East boundary\nBreak some barriers at South boundary\nVerify all are replaced (wall intact)\nUnlock the North locked chunk",
                "expected": "Can move freely into North and East chunks, still blocked at South\n---",
                "edgeCases": ""
            },
            {
                "id": "StrayBarrierBugfixTest-4",
                "title": "Stray Barriers at Different Heights",
                "prerequisites": "Ability to break barriers at high altitudes (use scaffolding or elytra)\nAbility to dig down to low altitudes",
                "steps": "Build up to Y=200+ near a barrier boundary\nBreak several barrier blocks at this high altitude",
                "expected": "Barriers replaced\nUnlock the adjacent locked chunk\nAll barriers removed at all heights\nBoth high altitude and low altitude stray barriers gone\n---",
                "edgeCases": ""
            },
            {
                "id": "StrayBarrierBugfixTest-5",
                "title": "Multiplayer Stray Barrier Sync",
                "prerequisites": "2-player multiplayer world\nBoth players in same area with barrier boundary",
                "steps": "Player A breaks multiple barriers at a boundary",
                "expected": "Both have free movement, no barriers blocking either player\n---",
                "edgeCases": ""
            },
            {
                "id": "StrayBarrierBugfixTest-6",
                "title": "Stray Barriers with Natural Blocks",
                "prerequisites": "A location where terrain naturally fills the chunk boundary\nLocked chunks with barriers that were never broken",
                "steps": "Find a locked chunk boundary that has stone/dirt/other natural blocks\nBreak a barrier block\nStart fresh world\nUnlock an adjacent chunk WITHOUT breaking any barriers first",
                "expected": "Natural block breaks normally, not replaced\nUnlock the chunk\nOnly barrier blocks removed\nNatural blocks remain as they were\nNo stray barrier removal affecting terrain\n---\n## Regression Test: Normal Barrier Removal (No Stray Barriers)\n**Goal**: Verify that chunks without stray barriers still clean up properly.\nBarriers cleanly removed\nNo errors or logging issues\nNew area fully accessible\n---\n## Implementation Verification Checklist\nWhen testing, verify:\n[ ] Stray barriers are removed from North boundary\n[ ] Stray barriers are removed from South boundary\n[ ] Stray barriers are removed from East boundary\n[ ] Stray barriers are removed from West boundary\n[ ] All Y-levels affected (high altitude and low altitude)\n[ ] Multiple break cycles handled (20+ replacements)\n[ ] Multiplayer synchronized correctly\n[ ] Non-barrier blocks unaffected\n[ ] No console errors or warnings\n[ ] Performance unaffected (removal shouldn't cause lag)\n---\n## How the Fix Works\n**Before**:\n```\nPlayer breaks barrier at [100, 64, 200]\nSystem replaces with new barrier (not tracked)\nChunk unlock called\nremoveBarriers() only removes tracked barriers\nStray barrier remains at [100, 64, 200] âŒ\n```\n**After**:\n```\nPlayer breaks barrier at [100, 64, 200]\nSystem replaces with new barrier (not tracked)\nChunk unlock called\nremoveBarriers() removes tracked barriers\nremoveBarriers() scans entire chunk edge for barriers\nFinds and removes stray barrier at [100, 64, 200] âœ…\nAlso calls removeStrayBarriersAtBoundary() for adjacent chunks âœ…\n```\n---\n## Known Edge Cases\n### Case 1: Barrier in unloaded chunk\nIf barrier is at boundary but target chunk not loaded\n**Current behavior**: Scans only loaded chunks\n**Mitigation**: Barriers automatically removed when chunk loads (via lazy loader)\n### Case 2: Massive stray barrier count\nIf thousands of barriers replaced (unlikely but possible)\n**Performance**: Scan is O(16 \\* 384) per edge = ~6,000 blocks per chunk\n**Current mitigation**: Acceptable performance for typical scenarios\n### Case 3: Concurrent modifications\nIf barrier break happens during chunk unlock\n**Current behavior**: Thread-safe (uses ConcurrentHashMap)\n**Result**: Both operations may execute, final state is correct\n---\n## Verification Log\n```\nâœ“ Stray barriers removed from all 4 chunk edges\nâœ“ Works at all Y-levels (-64 to 319)\nâœ“ Multiple break cycles handled\nâœ“ Multiplayer synchronized\nâœ“ Non-barrier blocks unaffected\nâœ“ No console errors\nâœ“ Performance acceptable\nâœ“ Edge cases documented\n```\n---\n## Next Steps\nOnce this bugfix is verified working:\nMark as complete in implementation plan\nMove to Phase 3 (interaction blocking)\nAdd similar stray cleanup checks for future features",
                "edgeCases": ""
            }
        ]
    }
];

        // Current state
        const state = {
            completed: new Set(),
            expanded: new Set()
        };

        // Initialize the test runner
        function init() {
            renderTestSuites();
            updateStats();
        }

        // Render all test suites
        function renderTestSuites() {
            const container = document.getElementById('testSuites');
            container.innerHTML = '';

            testSuites.forEach(suite => {
                const suiteElement = createTestSuite(suite);
                container.appendChild(suiteElement);
            });
        }

        // Create a test suite element
        function createTestSuite(suite) {
            const div = document.createElement('div');
            div.className = 'test-suite';

            const completed = suite.tests.filter(t => state.completed.has(t.id)).length;
            const total = suite.tests.length;
            const isExpanded = state.expanded.has(suite.id);

            div.innerHTML = `
                <div class="suite-header" onclick="toggleSuite('${suite.id}')">
                    <h2>${suite.title}</h2>
                    <span class="suite-progress">${completed}/${total}</span>
                </div>
                <div class="suite-content ${isExpanded ? 'expanded' : ''}" id="suite-${suite.id}">
                    ${suite.tests.map(test => createTestCase(test)).join('')}
                </div>
            `;

            return div;
        }

        // Create a test case HTML
        function createTestCase(test) {
            const isCompleted = state.completed.has(test.id);
            return `
                <div class="test-case ${isCompleted ? 'completed' : ''}" id="test-${test.id}">
                    <div class="test-header">
                        <input type="checkbox" 
                               class="test-checkbox" 
                               ${isCompleted ? 'checked' : ''}
                               onchange="toggleTest('${test.id}')">
                        <span class="test-title">${test.title}</span>
                    </div>
                    ${test.prerequisites ? `
                    <div class="test-section">
                        <strong>Prerequisites:</strong>
                        <p>${escapeHtml(test.prerequisites)}</p>
                    </div>
                    ` : ''}
                    ${test.steps ? `
                    <div class="test-section">
                        <strong>Steps:</strong>
                        <p>${escapeHtml(test.steps)}</p>
                    </div>
                    ` : ''}
                    ${test.expected ? `
                    <div class="test-section">
                        <strong>Expected Result:</strong>
                        <p>${escapeHtml(test.expected)}</p>
                    </div>
                    ` : ''}
                    ${test.edgeCases ? `
                    <div class="test-section">
                        <strong>Edge Cases:</strong>
                        <p>${escapeHtml(test.edgeCases)}</p>
                    </div>
                    ` : ''}
                </div>
            `;
        }

        // Toggle test suite expansion
        function toggleSuite(suiteId) {
            if (state.expanded.has(suiteId)) {
                state.expanded.delete(suiteId);
            } else {
                state.expanded.add(suiteId);
            }
            
            const content = document.getElementById(`suite-${suiteId}`);
            content.classList.toggle('expanded');
        }

        // Toggle test completion
        function toggleTest(testId) {
            if (state.completed.has(testId)) {
                state.completed.delete(testId);
            } else {
                state.completed.add(testId);
            }
            
            renderTestSuites();
            updateStats();
        }

        // Update statistics
        function updateStats() {
            const total = testSuites.reduce((sum, suite) => sum + suite.tests.length, 0);
            const completed = state.completed.size;
            const remaining = total - completed;
            const percent = total > 0 ? Math.round((completed / total) * 100) : 0;

            document.getElementById('totalTests').textContent = total;
            document.getElementById('completedTests').textContent = completed;
            document.getElementById('remainingTests').textContent = remaining;
            document.getElementById('progressPercent').textContent = percent + '%';

            const progressFill = document.getElementById('progressFill');
            progressFill.style.width = percent + '%';
            progressFill.textContent = percent + '%';
        }

        // Escape HTML to prevent XSS
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Initialize on page load
        init();
    </script>
</body>
</html>